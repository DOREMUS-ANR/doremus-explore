{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@angular/material/autocomplete/typings/index.d.ts.MatAutocomplete.html","webpack:///./node_modules/@angular/material/button/typings/index.d.ts.MatButton.html","webpack:///./node_modules/@angular/material/button/typings/index.d.ts.MatAnchor.html","webpack:///./node_modules/@angular/material/core/typings/index.d.ts.MatOption.html","webpack:///./node_modules/@angular/material/core/typings/index.d.ts.MatOptgroup.html","webpack:///./node_modules/@angular/material/form-field/typings/index.d.ts.MatFormField.html","webpack:///./node_modules/@angular/material/icon/typings/index.d.ts.MatIcon.html","webpack:///./node_modules/@angular/material/progress-spinner/typings/index.d.ts.MatProgressSpinner.html","webpack:///./node_modules/@angular/material/progress-spinner/typings/index.d.ts.MatSpinner.html","webpack:///./node_modules/@angular/material/select/typings/index.d.ts.MatSelect.html","webpack:///./node_modules/@angular/material/slider/typings/index.d.ts.MatSlider.html","webpack:///./node_modules/@angular/router/router.d.ts.ÉµEmptyOutletComponent.html","webpack:///./src/app-server.module.ts","webpack:///./src/app.globals.ts","webpack:///./src/app.module.ts","webpack:///./src/app.routes.ts","webpack:///./src/components/app.template.html","webpack:///./src/components/app.component.ts","webpack:///./src/components/artist/artist.component.ts.ArtistComponent.html","webpack:///./src/components/artist/artist.component.ts","webpack:///./src/components/artist/artist.detail.template.html","webpack:///./src/components/artist/artist.detail.component.ts","webpack:///./src/components/artist/artist.list.template.html","webpack:///./src/components/artist/artist.list.component.ts","webpack:///./src/components/artist/artist.recommendation.template.html","webpack:///./src/components/artist/artist.recommendation.component.ts","webpack:///./src/components/artist/artist.service.ts","webpack:///./src/components/artist/artist.summary.template.html","webpack:///./src/components/artist/artist.summary.component.ts","webpack:///./src/components/commons/error.template.html","webpack:///./src/components/commons/error.component.ts","webpack:///./src/components/commons/loading.template.html","webpack:///./src/components/commons/loading.component.ts","webpack:///./src/components/commons/timeline.template.html","webpack:///./src/components/commons/timeline.component.ts","webpack:///./src/components/eval/eval.template.html","webpack:///./src/components/eval/eval.component.ts","webpack:///./src/components/eval/state.ts","webpack:///./src/components/eval/statesList.ts","webpack:///./src/components/expression/expression.component.ts.ExpressionComponent.html","webpack:///./src/components/expression/expression.component.ts","webpack:///./src/components/expression/expression.detail.template.html","webpack:///./src/components/expression/expression.detail.component.ts","webpack:///./src/components/expression/expression.list.template.html","webpack:///./src/components/expression/expression.list.component.ts","webpack:///./src/components/expression/expression.service.ts","webpack:///./src/components/expression/recommendation.template.html","webpack:///./src/components/expression/recommendation.component.ts","webpack:///./src/components/home/home.template.html","webpack:///./src/components/home/home.component.ts","webpack:///./src/components/performance/performance.component.ts.PerformanceComponent.html","webpack:///./src/components/performance/performance.component.ts","webpack:///./src/components/performance/performance.detail.template.html","webpack:///./src/components/performance/performance.detail.component.ts","webpack:///./src/components/performance/performance.list.template.html","webpack:///./src/components/performance/performance.list.component.ts","webpack:///./src/components/performance/performance.service.ts","webpack:///./src/components/wip/wip.template.html","webpack:///./src/components/score-tab/score-tab.component.ts","webpack:///./src/components/search-results/search-results.template.html","webpack:///./src/components/search-results/search-results.component.ts","webpack:///./src/components/search-results/search.service.ts","webpack:///./src/components/search/search.template.html","webpack:///./src/components/search/search.component.ts","webpack:///./src/components/search/vocabulary.service.ts","webpack:///./src/components/summary/summary.template.html","webpack:///./src/components/summary/summary.component.ts","webpack:///./src/components/top-nav/top-nav.template.html","webpack:///./src/components/top-nav/top-nav.component.ts","webpack:///./src/components/wip/wip.component.ts","webpack:///./src/jsonld/jsonld.component.ts.JsonLdComponent.html","webpack:///./src/jsonld/jsonld.component.ts","webpack:///./src/jsonld/jsonld.module.ts","webpack:///./src/jsonld/safehtml.pipe.ts","webpack:///./src/main-server.ts","webpack:///./src/pipes/jsonLDval.pipe.ts","webpack:///./src/pipes/keys.pipe.ts","webpack:///./src/pipes/strip_dbpedia.pipe.ts","webpack:///./src/pipes/summary.pipe.ts","webpack:///./src/services/sharedService.service.ts","webpack:///external \"@angular/animations\"","webpack:///external \"@angular/animations/browser\"","webpack:///external \"@angular/cdk/a11y\"","webpack:///external \"@angular/cdk/bidi\"","webpack:///external \"@angular/cdk/drag-drop\"","webpack:///external \"@angular/cdk/observers\"","webpack:///external \"@angular/cdk/overlay\"","webpack:///external \"@angular/cdk/platform\"","webpack:///external \"@angular/cdk/portal\"","webpack:///external \"@angular/cdk/scrolling\"","webpack:///external \"@angular/cdk/text-field\"","webpack:///external \"@angular/common\"","webpack:///external \"@angular/common/http\"","webpack:///external \"@angular/core\"","webpack:///external \"@angular/forms\"","webpack:///external \"@angular/http\"","webpack:///external \"@angular/material/autocomplete\"","webpack:///external \"@angular/material/button\"","webpack:///external \"@angular/material/core\"","webpack:///external \"@angular/material/form-field\"","webpack:///external \"@angular/material/icon\"","webpack:///external \"@angular/material/input\"","webpack:///external \"@angular/material/progress-spinner\"","webpack:///external \"@angular/material/select\"","webpack:///external \"@angular/material/slider\"","webpack:///external \"@angular/platform-browser\"","webpack:///external \"@angular/platform-browser/animations\"","webpack:///external \"@angular/platform-server\"","webpack:///external \"@angular/router\"","webpack:///external \"@nguniversal/module-map-ngfactory-loader\"","webpack:///external \"@ngx-translate/core\"","webpack:///external \"@ngx-translate/http-loader\"","webpack:///external \"bestlang\"","webpack:///external \"moment\"","webpack:///external \"ngx-infinite-scroll\"","webpack:///external \"rxjs/Rx\"","webpack:///external \"rxjs/add/operator/map\"","webpack:///external \"rxjs/add/operator/toPromise\"","webpack:///external \"rxjs/observable/forkJoin\""],"names":[],"mappings":"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Aa;;;;;;;;;;;;;;;;;;;;;;;;ACH1B,gD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,qC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,qD","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","<ng-template><div class=\"mat-autocomplete-panel\" role=\"listbox\" [id]=\"id\" [ngClass]=\"_classList\" #panel><ng-content></ng-content></div></ng-template>","<span class=\"mat-button-wrapper\"><ng-content></ng-content></span><div matRipple class=\"mat-button-ripple\" [class.mat-button-ripple-round]=\"isRoundButton || isIconButton\" [matRippleDisabled]=\"_isRippleDisabled()\" [matRippleCentered]=\"isIconButton\" [matRippleTrigger]=\"_getHostElement()\"></div><div class=\"mat-button-focus-overlay\"></div>","<span class=\"mat-button-wrapper\"><ng-content></ng-content></span><div matRipple class=\"mat-button-ripple\" [class.mat-button-ripple-round]=\"isRoundButton || isIconButton\" [matRippleDisabled]=\"_isRippleDisabled()\" [matRippleCentered]=\"isIconButton\" [matRippleTrigger]=\"_getHostElement()\"></div><div class=\"mat-button-focus-overlay\"></div>","<mat-pseudo-checkbox *ngIf=\"multiple\" class=\"mat-option-pseudo-checkbox\" [state]=\"selected ? 'checked' : ''\" [disabled]=\"disabled\"></mat-pseudo-checkbox><span class=\"mat-option-text\"><ng-content></ng-content></span><div class=\"mat-option-ripple\" mat-ripple [matRippleTrigger]=\"_getHostElement()\" [matRippleDisabled]=\"disabled || disableRipple\"></div>","<label class=\"mat-optgroup-label\" [id]=\"_labelId\">{{ label }}<ng-content></ng-content></label><ng-content select=\"mat-option, ng-container\"></ng-content>","<div class=\"mat-form-field-wrapper\"><div class=\"mat-form-field-flex\" #connectionContainer (click)=\"_control.onContainerClick && _control.onContainerClick($event)\"><ng-container *ngIf=\"appearance == 'outline'\"><div class=\"mat-form-field-outline\"><div class=\"mat-form-field-outline-start\"></div><div class=\"mat-form-field-outline-gap\"></div><div class=\"mat-form-field-outline-end\"></div></div><div class=\"mat-form-field-outline mat-form-field-outline-thick\"><div class=\"mat-form-field-outline-start\"></div><div class=\"mat-form-field-outline-gap\"></div><div class=\"mat-form-field-outline-end\"></div></div></ng-container><div class=\"mat-form-field-prefix\" *ngIf=\"_prefixChildren.length\"><ng-content select=\"[matPrefix]\"></ng-content></div><div class=\"mat-form-field-infix\" #inputContainer><ng-content></ng-content><span class=\"mat-form-field-label-wrapper\"><label class=\"mat-form-field-label\" (cdkObserveContent)=\"updateOutlineGap()\" [cdkObserveContentDisabled]=\"appearance != 'outline'\" [id]=\"_labelId\" [attr.for]=\"_control.id\" [attr.aria-owns]=\"_control.id\" [class.mat-empty]=\"_control.empty && !_shouldAlwaysFloat\" [class.mat-form-field-empty]=\"_control.empty && !_shouldAlwaysFloat\" [class.mat-accent]=\"color == 'accent'\" [class.mat-warn]=\"color == 'warn'\" #label *ngIf=\"_hasFloatingLabel()\" [ngSwitch]=\"_hasLabel()\"><ng-container *ngSwitchCase=\"false\"><ng-content select=\"mat-placeholder\"></ng-content>{{_control.placeholder}}</ng-container><ng-content select=\"mat-label\" *ngSwitchCase=\"true\"></ng-content><span class=\"mat-placeholder-required mat-form-field-required-marker\" aria-hidden=\"true\" *ngIf=\"!hideRequiredMarker && _control.required && !_control.disabled\">&nbsp;*</span></label></span></div><div class=\"mat-form-field-suffix\" *ngIf=\"_suffixChildren.length\"><ng-content select=\"[matSuffix]\"></ng-content></div></div><div class=\"mat-form-field-underline\" #underline *ngIf=\"appearance != 'outline'\"><span class=\"mat-form-field-ripple\" [class.mat-accent]=\"color == 'accent'\" [class.mat-warn]=\"color == 'warn'\"></span></div><div class=\"mat-form-field-subscript-wrapper\" [ngSwitch]=\"_getDisplayedMessages()\"><div *ngSwitchCase=\"'error'\" [@transitionMessages]=\"_subscriptAnimationState\"><ng-content select=\"mat-error\"></ng-content></div><div class=\"mat-form-field-hint-wrapper\" *ngSwitchCase=\"'hint'\" [@transitionMessages]=\"_subscriptAnimationState\"><div *ngIf=\"hintLabel\" [id]=\"_hintLabelId\" class=\"mat-hint\">{{hintLabel}}</div><ng-content select=\"mat-hint:not([align='end'])\"></ng-content><div class=\"mat-form-field-hint-spacer\"></div><ng-content select=\"mat-hint[align='end']\"></ng-content></div></div></div>","<ng-content></ng-content>","<svg [style.width.px]=\"diameter\" [style.height.px]=\"diameter\" [attr.viewBox]=\"_viewBox\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\" [ngSwitch]=\"mode === 'indeterminate'\"><circle *ngSwitchCase=\"true\" cx=\"50%\" cy=\"50%\" [attr.r]=\"_circleRadius\" [style.animation-name]=\"'mat-progress-spinner-stroke-rotate-' + diameter\" [style.stroke-dashoffset.px]=\"_strokeDashOffset\" [style.stroke-dasharray.px]=\"_strokeCircumference\" [style.stroke-width.%]=\"_circleStrokeWidth\"></circle><circle *ngSwitchCase=\"false\" cx=\"50%\" cy=\"50%\" [attr.r]=\"_circleRadius\" [style.stroke-dashoffset.px]=\"_strokeDashOffset\" [style.stroke-dasharray.px]=\"_strokeCircumference\" [style.stroke-width.%]=\"_circleStrokeWidth\"></circle></svg>","<svg [style.width.px]=\"diameter\" [style.height.px]=\"diameter\" [attr.viewBox]=\"_viewBox\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\" [ngSwitch]=\"mode === 'indeterminate'\"><circle *ngSwitchCase=\"true\" cx=\"50%\" cy=\"50%\" [attr.r]=\"_circleRadius\" [style.animation-name]=\"'mat-progress-spinner-stroke-rotate-' + diameter\" [style.stroke-dashoffset.px]=\"_strokeDashOffset\" [style.stroke-dasharray.px]=\"_strokeCircumference\" [style.stroke-width.%]=\"_circleStrokeWidth\"></circle><circle *ngSwitchCase=\"false\" cx=\"50%\" cy=\"50%\" [attr.r]=\"_circleRadius\" [style.stroke-dashoffset.px]=\"_strokeDashOffset\" [style.stroke-dasharray.px]=\"_strokeCircumference\" [style.stroke-width.%]=\"_circleStrokeWidth\"></circle></svg>","<div cdk-overlay-origin class=\"mat-select-trigger\" aria-hidden=\"true\" (click)=\"toggle()\" #origin=\"cdkOverlayOrigin\" #trigger><div class=\"mat-select-value\" [ngSwitch]=\"empty\"><span class=\"mat-select-placeholder\" *ngSwitchCase=\"true\">{{placeholder || '\\u00A0'}}</span> <span class=\"mat-select-value-text\" *ngSwitchCase=\"false\" [ngSwitch]=\"!!customTrigger\"><span *ngSwitchDefault>{{triggerValue || '\\u00A0'}}</span><ng-content select=\"mat-select-trigger\" *ngSwitchCase=\"true\"></ng-content></span></div><div class=\"mat-select-arrow-wrapper\"><div class=\"mat-select-arrow\"></div></div></div><ng-template cdk-connected-overlay cdkConnectedOverlayLockPosition cdkConnectedOverlayHasBackdrop cdkConnectedOverlayBackdropClass=\"cdk-overlay-transparent-backdrop\" [cdkConnectedOverlayScrollStrategy]=\"_scrollStrategy\" [cdkConnectedOverlayOrigin]=\"origin\" [cdkConnectedOverlayOpen]=\"panelOpen\" [cdkConnectedOverlayPositions]=\"_positions\" [cdkConnectedOverlayMinWidth]=\"_triggerRect?.width\" [cdkConnectedOverlayOffsetY]=\"_offsetY\" (backdropClick)=\"close()\" (attach)=\"_onAttached()\" (detach)=\"close()\"><div #panel class=\"mat-select-panel {{ _getPanelTheme() }}\" [ngClass]=\"panelClass\" [@transformPanel]=\"multiple ? 'showing-multiple' : 'showing'\" (@transformPanel.done)=\"_panelDoneAnimatingStream.next($event.toState)\" [style.transformOrigin]=\"_transformOrigin\" [style.font-size.px]=\"_triggerFontSize\" (keydown)=\"_handleKeydown($event)\"><ng-content></ng-content></div></ng-template>","<div class=\"mat-slider-wrapper\" #sliderWrapper><div class=\"mat-slider-track-wrapper\"><div class=\"mat-slider-track-background\" [ngStyle]=\"_trackBackgroundStyles\"></div><div class=\"mat-slider-track-fill\" [ngStyle]=\"_trackFillStyles\"></div></div><div class=\"mat-slider-ticks-container\" [ngStyle]=\"_ticksContainerStyles\"><div class=\"mat-slider-ticks\" [ngStyle]=\"_ticksStyles\"></div></div><div class=\"mat-slider-thumb-container\" [ngStyle]=\"_thumbContainerStyles\"><div class=\"mat-slider-focus-ring\"></div><div class=\"mat-slider-thumb\"></div><div class=\"mat-slider-thumb-label\"><span class=\"mat-slider-thumb-label-text\">{{displayValue}}</span></div></div></div>","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ServerModule } from '@angular/platform-server';\nimport { ModuleMapLoaderModule } from '@nguniversal/module-map-ngfactory-loader';\n\nimport { AppModule } from './app.module';\nimport { AppComponent } from './components/app.component';\n\n@NgModule({\n  imports: [\n    BrowserModule.withServerTransition({\n      appId: 'overture' // <-- same name\n    }),\n    AppModule,\n    ServerModule,\n    ModuleMapLoaderModule\n  ],\n  providers: [\n    // Add universal-only providers here\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppServerModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpParams } from '@angular/common/http';\n\nconst latin_scripts = ', en;q=0.9, ru-Latn;q=0.2, grm-Latn;q=0.2, el-Latn;q=0.2 *;q=0.15';\n\n@Injectable()\nexport class Globals {\n  static _lang = 'en';\n  static get lang() {\n    return this._lang + latin_scripts\n  }\n  static set lang(lang) {\n    this._lang = lang;\n  }\n\n  static getHttpParams() {\n    return new HttpParams().set('lang', Globals.lang);\n  }\n}\n","import { PLATFORM_ID, APP_ID, Inject, NgModule } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { BrowserModule, Title } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\nimport {\r\n  MatButtonModule, MatProgressSpinnerModule,\n  MatSelectModule, MatFormFieldModule, MatInputModule,\r\n  MatIconModule, MatSliderModule, MatAutocompleteModule\r\n} from '@angular/material';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nimport { AppComponent } from './components/app.component';\n\nimport { SharedService } from './services/sharedService.service';\n\nimport { routing } from './app.routes';\nimport { Globals } from './app.globals';\n\nimport { KeysPipe } from './pipes/keys.pipe';\nimport { SummaryPipe } from './pipes/summary.pipe';\nimport { JsonLDvalPipe } from './pipes/jsonLDval.pipe';\nimport { StripDbpediaPipe } from './pipes/strip_dbpedia.pipe';\n\n\nimport { JsonLdModule } from './jsonld/jsonld.module';\n\n\n\n// components\nimport { HomeComponent } from './components/home/home.component';\nimport { SearchResultsComponent } from './components/search-results/search-results.component';\n\nimport { ErrorComponent } from './components/commons/error.component';\nimport { LoadingComponent } from './components/commons/loading.component';\nimport { TimelineComponent } from './components/commons/timeline.component';\n\nimport { ArtistComponent } from './components/artist/artist.component';\nimport { ArtistListComponent } from './components/artist/artist.list.component';\nimport { ArtistDetailComponent } from './components/artist/artist.detail.component';\nimport { ArtistSummaryComponent } from './components/artist/artist.summary.component';\nimport { ArtistRecommendationComponent } from './components/artist/artist.recommendation.component';\n\nimport { ScoreTabComponent } from './components/score-tab/score-tab.component';\n\nimport { ExpressionComponent } from './components/expression/expression.component';\nimport { ExpressionListComponent } from './components/expression/expression.list.component';\nimport { ExpressionDetailComponent } from './components/expression/expression.detail.component';\n\nimport { PerformanceComponent } from './components/performance/performance.component';\nimport { PerformanceListComponent } from './components/performance/performance.list.component';\nimport { PerformanceDetailComponent } from './components/performance/performance.detail.component';\n\nimport { RecommendationComponent } from './components/expression/recommendation.component';\nimport { SummaryComponent } from './components/summary/summary.component';\n\nimport { TopNavComponent } from './components/top-nav/top-nav.component';\nimport { SearchComponent } from './components/search/search.component';\nimport { WipComponent } from './components/wip/wip.component';\nimport { EvaluationComponent } from './components/eval/eval.component';\n\n// AoT requires an exported function for factories\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, '/static/locale/', '.json');\n}\n\n@NgModule({\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'overture' }),\n    BrowserAnimationsModule,\n    FormsModule, ReactiveFormsModule, HttpClientModule,\n    routing, JsonLdModule,\n    MatButtonModule, MatProgressSpinnerModule, MatSelectModule, MatFormFieldModule,\n    MatInputModule, MatIconModule, MatSliderModule, MatAutocompleteModule,\n    InfiniteScrollModule, DragDropModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (createTranslateLoader),\n        deps: [HttpClient]\n      }\n    })\n  ],\n  declarations: [AppComponent, KeysPipe, SummaryPipe, JsonLDvalPipe, StripDbpediaPipe,\n    HomeComponent, SearchResultsComponent,\n    ErrorComponent, LoadingComponent, TimelineComponent,\n    ScoreTabComponent,\n    ArtistComponent, ArtistListComponent, ArtistDetailComponent, ArtistSummaryComponent, ArtistRecommendationComponent,\n    ExpressionComponent, ExpressionListComponent, ExpressionDetailComponent, RecommendationComponent,\n    PerformanceComponent, PerformanceListComponent, PerformanceDetailComponent,\n    SummaryComponent,\n    WipComponent, EvaluationComponent, TopNavComponent, SearchComponent\n  ],\n  bootstrap: [AppComponent],\n  providers: [SharedService, Globals, KeysPipe, SummaryPipe, JsonLDvalPipe, StripDbpediaPipe, Title]\n})\n\nexport class AppModule {\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(APP_ID) private appId: string) {\n    const platform = isPlatformBrowser(platformId) ?\n      'in the browser' : 'on the server';\n    console.log(`Running ${platform} with appId=${appId}`);\n  }\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { Component } from '@angular/core';\n\n// components\nimport { HomeComponent } from './components/home/home.component';\nimport { SearchResultsComponent } from './components/search-results/search-results.component';\n\nimport { ArtistComponent } from './components/artist/artist.component';\nimport { ArtistListComponent } from './components/artist/artist.list.component';\nimport { ArtistDetailComponent } from './components/artist/artist.detail.component';\n\nimport { ScoreTabComponent } from './components/score-tab/score-tab.component';\n\nimport { ExpressionComponent } from './components/expression/expression.component';\nimport { ExpressionListComponent } from './components/expression/expression.list.component';\nimport { ExpressionDetailComponent } from './components/expression/expression.detail.component';\n\nimport { PerformanceComponent } from './components/performance/performance.component';\nimport { PerformanceListComponent } from './components/performance/performance.list.component';\nimport { PerformanceDetailComponent } from './components/performance/performance.detail.component';\n\nimport { WipComponent } from './components/wip/wip.component';\nimport { EvaluationComponent } from './components/eval/eval.component';\n\nconst appRoutes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'search/:input', component: SearchResultsComponent, data: { title: 'Search' } },\n  { path: 'recording', component: WipComponent, data: { title: 'nav.recording' } },\n  { path: 'score', component: ScoreTabComponent, data: { title: 'nav.score' } },\n  {\r\n    path: 'artist', component: ArtistComponent,\r\n    children: [\r\n      { path: ':id', component: ArtistDetailComponent },\r\n      { path: '', component: ArtistListComponent, data: { title: 'nav.artist' } }\r\n    ]\r\n  },\r\n  {\r\n    path: 'expression', component: ExpressionComponent,\r\n    children: [\r\n      { path: ':id', component: ExpressionDetailComponent },\r\n      { path: '', component: ExpressionListComponent, data: { title: 'nav.expression' } }\r\n    ]\r\n  },\r\n  {\r\n    path: 'performance', component: PerformanceComponent,\r\n    children: [\r\n      { path: ':id', component: PerformanceDetailComponent },\r\n      { path: '', component: PerformanceListComponent, data: { title: 'nav.performance' } }\r\n    ]\r\n  },\r\n  { path: 'evaluation', component: EvaluationComponent},\r\n  { path: 'wip', component: WipComponent },\r\n  { path: '**', component: HomeComponent }\n]\n\nexport const routing = RouterModule.forRoot(appRoutes);\n","<header class=\"header\">\n  <div class=\"bg\" [ngStyle]='{opacity: headerOpacity}'></div>\n  <top-nav></top-nav>\n</header>\n<router-outlet></router-outlet>\n<footer id=\"appFooter\">\n  <div class=\"footerCont\">\n    <div>\n      <p class=\"descr\">{{'footer.dataviz'|translate}}</p>\n      <ul class=\"data-sources\">\n        <li>\n          <a class=\"logo-link\" href=\"http://www.bnf.fr/\" rel=\"external\" target=\"_blank\" title=\"BibliothÃ¨que nationale de France | BnF\">\n            <img src=\"/static/img/logos/bnf.logotipo.png\" alt=\"BibliothÃ¨que nationale de France | BnF\" />\n          </a>\n        </li>\n        <li>\n          <a class=\"logo-link\" href=\"http://philharmoniedeparis.fr/\" rel=\"external\" target=\"_blank\" title=\"Philharmonie de Paris\">\n            <img src=\"/static/img/logos/philharmonie.logotipo.png\" alt=\"Philharmonie de Paris\" />\n          </a>\n        </li>\n        <li>\n          <a class=\"logo-link\" href=\"http://www.radiofrance.fr/\" rel=\"external\" target=\"_blank\" title=\"Radio France\">\n            <img src=\"/static/img/logos/radiofrance.png\" alt=\"Radio France\" />\n          </a>\n        </li>\n      </ul>\n    </div>\n    <div>\n      <p class=\"descr\">\n        OVERTURE lives inside the\n        <a href=\"http://www.doremus.org\" rel=\"external\" target=\"_blank\">DOREMUS project</a>, for describing, publishing, connecting and contextualizing music catalogues on the web of data.\n      </p>\n      <a href=\"http://www.doremus.org\" rel=\"external\" target=\"_blank\">{{'ABOUT'|translate}}</a>\n      <!-- TODO credit popup -->\n      &nbsp;\n      <a href=\"https://github.com/DOREMUS-ANR/overture/graphs/contributors\" rel=\"external\" target=\"_blank\">CREDITS</a>\n\n    </div>\n    <div class=\"projLogoCont\">\n      <div>\n        <mat-form-field>\n          <mat-select placeholder=\"Language\" [(value)]=\"curLang\" (selectionChange)=\"onLangChange()\">\n            <mat-option value=\"en\">English</mat-option>\n            <mat-option value=\"fr\">FranÃ§ais</mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n      <a class=\"logo-link\" href=\"http://www.doremus.org\" rel=\"external\" target=\"_blank\">\n        <img src=\"/static/img/logos/doremus.logo.png\" />\n      </a>\n    </div>\n  </div>\n</footer>\n","import { Component, SimpleChanges, Inject, PLATFORM_ID } from '@angular/core';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Globals } from '../app.globals';\nimport { isPlatformBrowser } from '@angular/common';\n\nconst headerOpacityThreshold = 300;\n\nvar localStorage;\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-app',\n  templateUrl: './app.template.html',\n  host: {\n    '(window:scroll)': 'updateHeaderOpacity($event)'\n  }\n})\nexport class AppComponent {\n  showSearch: boolean = false\n  headerOpacity: number = 0\n  curLang: string = 'en'\n\n  constructor(private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private titleService: Title, private translate: TranslateService,\n    private globals: Globals, @Inject(PLATFORM_ID) private platformId: string) { }\n\n  ngOnInit() {\n    this.manageLanguage();\n    this.manageTitle();\n  }\n\n  manageTitle() {\n\n    // set title based on the title of the route in app.routes.ts\n    this.router.events\n      .filter(event => event instanceof NavigationEnd)\n      .map(() => this.activatedRoute)\n      .map(route => {\n        while (route.firstChild) route = route.firstChild;\n        return route;\n      })\n      .filter(route => route.outlet === 'primary')\n      .mergeMap(route => route.data)\n      .subscribe(event => {\n        if (!event.title)\n          return this.titleService.setTitle('Overture');\n\n        this.translate.get(event.title)\n          .subscribe(title =>\n            this.titleService.setTitle(title || 'Overture'));\n      });\n  }\n\n  manageLanguage() {\n    console.log('manage language');\n\n    if (isPlatformBrowser(this.platformId))\n      localStorage = window.localStorage;\n    else localStorage = {\n      _data: {},\n      setItem: function(id, val) { return this._data[id] = String(val); },\n      getItem: function(id) { return this._data.hasOwnProperty(id) ? this._data[id] : undefined; },\n      removeItem: function(id) { return delete this._data[id]; },\n      clear: function() { return this._data = {}; }\n    };\n\n    // this language will be used as a fallback when a translation\n    // isn't found in the current language\n    this.translate.setDefaultLang('en');\n    this.translate.use('en');\n\n    this.curLang = localStorage.getItem('lang') || this.translate.getBrowserLang()\n    this.translate.use(this.curLang);\n    Globals.lang = this.curLang;\n    setTimeout(() => {\n      console.log('Current language:', this.translate.currentLang);\n      localStorage.setItem('lang', this.translate.currentLang)\n    }, 100);\n  }\n\n  updateHeaderOpacity(evt) {\r\n    let currPos = (window.pageYOffset || evt.target.scrollTop) - (evt.target.clientTop || 0);\r\n    let headerOpacity = isNaN(currPos) ? 0 : currPos / headerOpacityThreshold;\r\n    this.headerOpacity = headerOpacity > 1 ? 1 : headerOpacity;\r\n  }\r\n\r\n  onLangChange() {\r\n    if (!isPlatformBrowser(this.platformId)) return;\r\n    localStorage.setItem('lang', this.curLang);\r\n    location.reload();\r\n  }\r\n\r\n}\n","<router-outlet></router-outlet>","import {Component} from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  template: '<router-outlet></router-outlet>'\n})\nexport class ArtistComponent { }\n","<error-msg *ngIf=\"error\"></error-msg>\n<loading *ngIf=\"querying\"></loading>\n\n<article *ngIf=\"artist\" vocab=\"http://schema.org/\" typeof=\"Person\" [attr.about]=\"artist['@id']\" class=\"artist-detail\">\n  <jsonld *ngIf=\"artist\" [object]=\"artist\"></jsonld>\n\n  <section class=\"overview\">\n    <div [style.background-image]=\"safePic(artist.image || overviewPic)\" class=\"bg\"></div>\n    <div class=\"overview-cont\">\n      <div class=\"title-cont\">\n        <div class=\"artist-round\">\n          <img property=\"image\" mat-card-avatar [src]=\"artist.image || 'static/img/artist_placeholder.png'\"></div>\n\n        <h1 class=\"title\" property=\"name\" [innerHTML]=\"artist.name | jsonLDval: 'lang'\"></h1>\n        <p class=\"other-title\" property=\"additionalName\" [innerHTML]=\"artist.additionalName| jsonLDval: ['lang','array']\"></p>\n\n        <div class=\"note\" property=\"description\">\n          <p [innerHTML]=\"artist.description | jsonLDval : 'lang'\"></p>\n        </div>\n\n      </div>\n\n      <div class=\"info-cont\">\n        <div class=\"sources\">\n          <a href='{{sa.uri}}' rel=\"external\" target=\"blank\" class=\"source\" *ngFor=\"let sa of sameAs\">\n            <img src='{{sa.img}}' alt='{{sa.label}}' title=\"{{sa.label}}\" />\n          </a>\n        </div>\n        <div class=\"info-card\">\n\n          <div *ngIf=\"artist.birthDate\">\n            <label>{{'birth'|translate}}</label>\n            <span *ngIf=\"artist.birthPlace\">{{artist.birthPlace}},</span>\n            <span>{{artist.birthDate}}</span>\n          </div>\n          <div *ngIf=\"artist.deathDate\">\n            <label>{{'death'|translate}}</label>\n            <span *ngIf=\"artist.deathPlace\">{{artist.deathPlace}},</span>\n            <span>{{artist.deathDate}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class=\"main info flexy\" *ngIf=\"!artistrec\">\n    <section id=\"works\" *ngIf=\"functionList\">\n      <div *ngFor=\"let f of functionList\">\n        <h2>\n        <strong>{{getByFunction(f).length}}</strong>\n         {{'nav.expression'|translate}} {{'as'|translate}} {{f|jsonLDval}}</h2>\n\n        <div class=\"card-list\">\n          <div *ngFor=\"let a of getByFunction(f)|slice:0:functions[f] let i = index\">\n            <summary [entity]=\"a | summary: a['@type']\" [eclass]=\"a['@type']\"></summary>\n          </div>\n          <button  *ngIf=\"functions[f] < getByFunction(f).length\" class=\"long\" (click)=\"functions[f] = functions[f] + 10\">{{'show more'|translate}}</button>\n        </div>\n      </div>\n    </section>\n\n    <section id=\"performances\" *ngIf=\"pFunctionList\">\n      <div *ngFor=\"let f of pFunctionList\">\n        <h2>\n        <strong>{{getByFunction(f, true).length}}</strong>\n         {{'nav.performance'|translate}} {{'as'|translate}} {{f}}</h2>\n\n        <div class=\"card-list\">\n          <div *ngFor=\"let a of getByFunction(f, true)|slice:0:pFunctions[f] let i = index\">\n            <summary [entity]=\"a | summary: a['@type']\" [eclass]=\"a['@type']\"></summary>\n          </div>\n          <button *ngIf=\"pFunctions[f] < getByFunction(f, true).length\" class=\"long\" (click)=\"pFunctions[f] = pFunctions[f] + 10\">{{'show more'|translate}}</button>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"recommendation-cont\" *ngIf=\"artist\">\n      <artist-recommendation [seed]=\"artist['@id']\" id=\"artist-recommendation\" [(big)]=\"artistrec\"></artist-recommendation>\n    </section>\n\n  </div>\n\n  <div class=\"main info\" *ngIf=\"artistrec\">\n    <artist-recommendation [seed]=\"artist['@id']\" [n]=\"7\" [(big)]=\"artistrec\"></artist-recommendation>\n  </div>\n\n</article>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { DomSanitizer, Title } from '@angular/platform-browser';\nimport { ArtistService } from './artist.service';\nimport { JsonLDvalPipe } from '../../pipes/jsonLDval.pipe';\nimport { Globals } from '../../app.globals';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './artist.detail.template.html',\n  providers: [ArtistService]\n})\n\nexport class ArtistDetailComponent {\n  pFunctionList: Set<string>;\n  pFunctions: {};\n  functionList: Set<string>;\n  functions: any;\n  querying: boolean;\n  error: boolean = false;\n  artist: any;\n  compositions: [any];\n  performances: [any];\n  sameAs: any;\n  artistrec: boolean = false;\n\n  overviewPic: string = 'img/pianist.jpg';\n\n  constructor(private titleService: Title,\n    private artistService: ArtistService,\n    private route: ActivatedRoute, private jsonLDpipe: JsonLDvalPipe,\n    private _sanitizer: DomSanitizer) {\n\n    this.route.params.forEach((params: Params) => {\n      let id = params['id'];\n\n      if (!id) return;\n      this.querying = true;\n\n      this.artistService.get(id).subscribe(a => {\n        let graph = a['@graph'];\n        if (!graph) {\n          this.querying = false;\n          this.error = true;\n          return;\n        }\n\n        this.artist = graph[0];\n        this.sameAs = this.artist.sameAs || [];\n        if (!Array.isArray(this.sameAs)) this.sameAs = [this.sameAs];\n        if (this.artist.mainEntityOfPage) this.sameAs.push(this.artist.mainEntityOfPage);\n        this.sameAs = this.sameAs.map(toSource);\n\n        let mainName = this.jsonLDpipe.transform(this.artist.name);\n        this.titleService.setTitle(mainName);\n\n        this.querying = false;\n        this.error = false;\n      });\r\n\r\n      this.artistService.worksOf(id).subscribe(a => {\r\n        let graph = a['@graph'];\r\n        if (!graph) {\r\n          this.querying = false;\r\n          this.error = true;\r\n          return;\r\n        }\r\n\r\n        this.compositions = graph;\r\n        this.functions = {};\r\n        this.functionList = new Set<string>(graph.map(x => {\r\n          let d = x.author.description;\r\n          return d['@value'] || d;\r\n        }));\r\n        if (!this.functionList.size)\r\n          this.functionList = null;\r\n        else this.functionList.forEach(fc => this.functions[fc] = 5)\r\n        this.error = false;\r\n      });\r\n\r\n      this.artistService.performancesOf(id).subscribe(a => {\r\n        let graph = a['@graph'];\r\n        if (!graph) {\r\n          this.querying = false;\r\n          this.error = true;\r\n          return;\r\n        }\r\n\r\n        this.performances = graph;\r\n\r\n        this.performances.filter(x => !x.performer.description)\r\n          .forEach(x => x.performer.description =\r\n            Globals.lang.startsWith(\"fr\") ? \"interprÃ¨te\" : \"performer\");\r\n        this.performances.forEach(x => {\r\n          if (x.performer.description['@value'])\r\n            x.performer.description['@value'] = x.performer.description['@value'].toLowerCase()\r\n          else\r\n            x.performer.description = x.performer.description.toLowerCase();\r\n        });\r\n        this.pFunctions = {};\r\n        this.pFunctionList = new Set<string>(graph.map(x => {\r\n          let d = x.performer.description;\r\n          return d['@value'] || d;\r\n        }));\r\n        if (!this.pFunctionList.size) this.pFunctionList = null;\r\n        else this.pFunctionList.forEach(fc => this.pFunctions[fc] = 5)\r\n        this.error = false;\r\n      });\r\n\r\n\r\n    });\r\n  }\n  getByFunction(f, isPerformance = false) {\n    let list = isPerformance ? this.performances : this.compositions;\n    let prop = isPerformance ? 'performer' : 'author';\n    return list.filter(x => x[prop].description)\n      .filter(x => x[prop].description == f || x[prop].description['@value'] == f);\n  }\n  safePic(input) {\n    let uri = encodeURI(input);\n    return this._sanitizer.bypassSecurityTrustStyle(`url('${uri}')`);\n  }\n}\n\nfunction toSource(input) {\n  let img = '', label = '';\n  let i = input.replace(/https?:\\/\\/([^\\/]+)\\/.+/, '$1');\n  switch (i) {\n    case 'dbpedia.org':\n      img = 'img/logos/dbpedia.png';\n      label = 'DBpedia';\n      break;\n    case 'isni.org':\n      img = 'img/logos/isni.png';\n      label = 'ISNI';\n      break;\n    case 'viaf.org':\n      img = 'img/logos/viaf.png';\n      label = 'VIAF';\n      break;\n    case 'www.wikidata.org':\n      img = 'img/logos/wikidata.png';\n      label = 'WikiData';\n      break;\n    case 'catalogue.bnf.fr':\n      img = 'img/logos/bnf.png';\n      label = 'BnF';\n      break;\n    case 'musicbrainz.org':\n      img = 'img/logos/musicbrainz.png';\n      label = 'MusicBrainz';\n      break;\n    case 'fr.wikipedia.org':\n    case 'en.wikipedia.org':\n      img = 'img/logos/wikipedia.png';\n      label = 'WikiPedia';\n  }\n  return {\n    uri: input,\n    img,\n    label\n  }\n\n}\n","<div class=\"bearing\"></div>\n\n<div class=\"main\">\n  <h1>{{'nav.artist'|translate}}</h1>\n\n  <!-- <search-comp (onFilterChanged)=\"onFilterChanged($event)\"></search-comp> -->\n\n  <error-msg *ngIf=\"error\"></error-msg>\n\n  <div class=\"forever-scroll\" infinite-scroll [infiniteScrollDistance]=\"5\" [infiniteScrollThrottle]=\"100\" (scrolled)=\"onScroll();\">\n    <artist *ngFor=\"let artist of items\" [artist]=\"artist\"></artist>\n\n    <loading *ngIf=\"querying || scrollInProgress\"></loading>\n\n  </div>\n\n</div>\n","import {Component, Input, Output, EventEmitter, ChangeDetectionStrategy} from '@angular/core';\nimport {Router, ActivatedRoute, NavigationStart} from '@angular/router';\nimport {ArtistService} from './artist.service';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './artist.list.template.html',\n  // styleUrls: ['./expression.styl'],\n  providers: [ArtistService]\n})\nexport class ArtistListComponent {\n  @Input() artistURI: string;\n\n  items: any[];\n  filter = {};\n  querying: boolean = false;\n  error: boolean = false;\n\n  scrollInProgress = false;\n\n  constructor(\n    private _artistService: ArtistService,\n    private router: Router, private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    this.filter = this.route.queryParams['value'];\n    this.getList();\n\n    this.router.events\n      .map(event => event instanceof NavigationStart)\n      .subscribe(() => {\n        let newFilter = this.route.queryParams['value'];\n        if (JSON.stringify(newFilter) != JSON.stringify(this.filter)) {\n          this.filter = newFilter;\n          this.getList();\n        }\n      }, (err) => {\r\n        this.error = true;\n        console.error(err);\n      });\n  }\n\n  getList() {\n    // if (this.querying) return false;\n    this.querying = true;\n    this.error = false;\n\n    this._artistService.query(this.filter).subscribe(\n      res => {\n        this.items = res['@graph'];\n        this.querying = false;\n      },\n      error => {\n        console.error('Error: ' + error);\n        this.querying = false;\n        this.error = true;\n      }\n    );\n  }\n\n  onFilterChanged(filter = {}) {\n    this.router.navigate(['/artist'], {\n      queryParams: filter\n    });\r\n  }\n\n  onScroll() {\n    if (this.scrollInProgress || !this.items) return;\n    this.scrollInProgress = true;\n\n    this._artistService.query(this.filter, this.items.length).subscribe(res => {\n      this.scrollInProgress = false;\n      let newItems = res['@graph'];\n      newItems.forEach(a => a.link = [a['@id'].replace('http://data.doremus.org/artist/', '')])\n\n      this.items.push(...newItems);\n    }, error => console.error('Error: ' + error));\n  }\n\n  myIdChange(event) {\n    this.artistURI = '<' + event.value + '>';\n    this.ngOnInit();\n    window.scrollTo(0, 0);\n  }\n\n  wip() {\n    this.router.navigate(['/wip']);\n  }\n}\n","<div>\n  <button mat-raised-button color=\"primary\" *ngIf=\"big\" (click)=\"toogleView()\">{{'back-to-artist'|translate}}</button>\n  <h2>{{'rec.artist.heading'|translate}}</h2>\n  <div *ngIf=\"big\" class=\"sliders-cont\">\n    <span>{{'set weights'|translate}}:</span>\n    <div *ngFor=\"let weight of getWeightsAsArray()\">\n      <label>{{weight.label|translate}}</label>\n      <mat-slider min=\"1\" max=\"100\" step=\"1\" value=\"1\" thumb-label=\"true\" color=\"primary\" [(ngModel)]=\"weights[weight.id].w\"></mat-slider>\n    </div>\n    <button mat-raised-button (click)=\"refresh()\">\n        <mat-icon aria-label=\"refresh\">cached</mat-icon>\n    </button>\n  </div>\n\n  <loading *ngIf=\"loading\">{{'rec.loading'|translate}}</loading>\n\n  <error-msg class=\"small\" *ngIf=\"error\"></error-msg>\n\n  <div *ngIf=\"!loading && !error\">\n    <artist *ngFor=\"let a of recommendation\" [artist]=\"a\"></artist>\n    <p class=\"empty-msg\" *ngIf=\"recommendation.length < 1\">nothing to show</p>\n  </div>\n  <button mat-raised-button color=\"primary\" class=\"full-width uppercase\" *ngIf=\"!big\" (click)=\"toogleView()\">{{'explain'|translate}}</button>\n</div>\n","import { Component, Input, Output, EventEmitter, SimpleChanges, Inject, PLATFORM_ID } from '@angular/core';\nimport { ArtistService } from './artist.service';\nimport { isPlatformBrowser } from '@angular/common';\n\n\nfunction toDescr(input) {\n  if (input == null) return null;\n  return input.map(d => d.text).join('\\n')\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'artist-recommendation',\n  templateUrl: './artist.recommendation.template.html'\n})\nexport class ArtistRecommendationComponent {\n  @Input() seed: string;\n  @Input() n: number;\n  @Input() big: boolean = false;\n  @Output() bigChange = new EventEmitter<boolean>();\n  weights = {\n    mop: { id: 'mop', label: 'Played MoP', w: 1 },\n    period: { id: 'period', label: 'Period', w: 1 },\n    casting: { id: 'casting', label: 'Casting', w: 1 },\n    function: { id: 'function', label: 'Function', w: 1 },\n    genre: { id: 'genre', label: 'Genre', w: 1 },\n    key: { id: 'key', label: 'Key', w: 1 },\n  }\n//   mop birth_date death_date casting function genre key\n// 3 1 1 3 3 3 3\n\n  recommendation: [any];\n  loading: boolean = true;\n  error: boolean = false;\n\n  constructor(private artistService: ArtistService, @Inject(PLATFORM_ID) private platformId: Object) { };\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!changes.seed) return;\n    this.callRecommender();\n  }\n\n  getWeightsAsArray(): any[] {\n    return Object.keys(this.weights)\n      .map(k => this.weights[k]);\n  }\n\n  getWeightsAsInts(): number[] {\n    return this.getWeightsAsArray().map(o => o.w);\n  }\n\n  private callRecommender() {\n    this.loading = true;\n    this.error = false;\n    this.recommendation = null;\n\n    let id = this.seed.replace('http://data.doremus.org/artist/', '');\n\n    if (isPlatformBrowser(this.platformId)) {\n      // retrieve recommendations\n      this.artistService.recommend(id, this.n, this.getWeightsAsInts(), this.big)\n        .then((res) => {\n          this.loading = false;\n          res.forEach(a => a.description = toDescr(a.description))\n          this.recommendation = res;\n        }, (err) => {\n          this.loading = false;\n          this.error = true;\n          console.error(err);\n        });\n    }\n\n  }\n\n  refresh() {\n    console.log(this.getWeightsAsInts())\n    this.callRecommender();\n  }\n\n  toogleView() {\n    this.big = !this.big;\n    this.bigChange.emit(this.big);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from \"rxjs/Rx\";\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Globals } from '../../app.globals';\n\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ArtistService {\n  private limit = 41;\n\n  constructor(private http: HttpClient) { }\n\n  query(filter = {}, offset?: number) {\n    let filterOptions = \"\";\n\n    Object.keys(filter).forEach(k => {\n      let value = filter[k];\n      if (!value) return;\n      if (!Array.isArray(value)) value = [value]\n      for (let v of value)\n        filterOptions += `&${k}=${v}`\n    });\n\n    let search = 'lim=' + this.limit + filterOptions;\n    if (offset) search += '&offset=' + offset;\n\n    return this.http.get(\"/api/artist\", {\r\n      params: new HttpParams({ fromString: search })\n    });\n  }\n\n  get(id, light = false): Observable<any> {\n    if (!id) return null;\n    let params = new HttpParams()\n      .set('lang', Globals.lang);\n    if (light)\n      params = params.set('light', light.toString());\n\n    return this.http.get(`/api/artist/${id}`, { params });\n  }\n\n  worksOf(id): Observable<any> {\n    if (!id) return null;\n    return this.http.get(`/api/artist/${id}/works`, { params: Globals.getHttpParams() });\n  }\n\n  performancesOf(id): Observable<any> {\n    if (!id) return null;\n    return this.http.get(`/api/artist/${id}/performances`, { params: Globals.getHttpParams() });\n  }\n\n  recommend(id, n = 3, weights: number[] = null, explain = true) {\n    if (!id) return Promise.resolve(null);\n\n    let params = new HttpParams()\n      .set('lang', Globals.lang)\n      .set('n', n.toString())\n      .set('explain', explain.toString());\n\n    if (weights) params = params.set('w', weights.join(','));\n    return this.http.get(`/api/recommendation/artist/${id}`, { params })\n      .toPromise().then(res => {\n        let data = res;\n        return data;\n      });\n  }\n\n\n}\n","<article vocab=\"http://schema.org/\" typeof=\"Person\" [attr.about]=\"artist['@id']\" [ngClass]=\"{'ext':ext}\" [routerLink]=\"ext? null : '/artist/' + artist.link\">\n  <div class=\"artist-round\">\n    <img property=\"image\" mat-card-avatar [src]=\"artist.image || 'static/img/artist_placeholder.png'\">\n  </div>\n  <h3 property=\"name\">{{artist.name | jsonLDval }}</h3>\n  <p *ngIf=\"!artist.birthDate && artist.description\" class=\"description\">{{artist.description | jsonLDval}}</p>\n  <p *ngIf=\"artist.birthDate\" class=\"dates\">\n    <span property=\"birthDate\">{{artist.birthDate | slice:0:4}}</span>\n    <span> - </span>\n    <span property=\"deathDate\">{{artist.deathDate || '...' | slice:0:4}}</span>\n  </p>\n  <p *ngIf=\"explain\">{{writeExplain(explain)}}</p>\n  <a target=\"_blank\" [routerLink]=\"'/artist/'+artist.link\" *ngIf=\"ext\" class=\"mdi mdi-page-next-outline show-details\" title=\"show details\"></a>\n</article>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'artist',\n  styleUrls: ['./artist.summary.styl'],\n  templateUrl: './artist.summary.template.html'\n})\nexport class ArtistSummaryComponent {\n  @Input() artist: Artist;\n  @Input() ext: boolean;\n  @Input() explain: any;\n\n  ngOnChanges() {\n    if (this.artist)\n      this.artist.link = this.artist['@id'].replace('http://data.doremus.org/artist/', '')\n  }\n\n  writeExplain(explain) {\n    let x = explain.map(y => y[0]).filter(y => y != 'period_old').join(', ')\n    return 'similar ' + x;\n  }\n}\n\nclass Artist {\n  '@id': string\n  link: string\n  name: any\n  image: string\n  additionalName: any\n  birthDate: string\n  deathDate: string\n  description: any\n  mainEntityOfPage: any\n  sameAs: any\n}\n","<div class=\"error-msg\">\n  <img src=\"static/img/rest.png\"/>\n  <h1>False note!</h1>\n  <h3>Sorry for this, we are yet working for fixing it.</h3>\n</div>\n","import {Component} from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './error.template.html',\n  selector: 'error-msg'\n})\nexport class ErrorComponent { }\n","<div class=\"loading\">\n  <div class=\"circle normal\"></div>\n  <div class=\"circle transparent\"></div>\n  <ng-content></ng-content>\n</div>\n","import {Component} from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './loading.template.html',\n  selector: 'loading'\n})\nexport class LoadingComponent { }\n","<ul>\n  <li *ngFor=\"let d of dates\">\n    <time *ngIf=\"d.time\" datetime=\"d.date\">{{d.time | date: 'yyyy'}}</time>\n    <time *ngIf=\"!d.time\">?</time>\n\n    <label *ngIf=\"d.type=='creation'\">\n      <!--  TODO replace with ngPlural when bug fixed https://github.com/angular/angular/issues/12363 -->\n      <ng-container *ngIf=\"d.agent.length == 0\">The work is created</ng-container>\n      <ng-container *ngIf=\"d.agent.length == 1\">{{d.agent[0]}}\n        {{'composes the work'|translate}}</ng-container>\n      <ng-container *ngIf=\"d.agent.length > 1\">{{d.agent.join(', ')}}\n        {{'compose the work'|translate}}</ng-container>\n    </label>\n\n    <label *ngIf=\"d.type=='premiere'\">\n      {{'Premiere'|translate}}\n      <small>{{d.description}}</small>\n    </label>\n\n    <label *ngIf=\"d.type=='publication'\">\n      1st Publication\n      <small>{{d.description}}</small>\n    </label>\n\n  </li>\n</ul>\n","import {Component, Input} from '@angular/core';\nimport * as moment_ from 'moment';\nconst moment = moment_[\"default\"];\n\nconst months = [\n  { fr: 'janvier', en: 'january' },\r\n  { fr: 'fÃ©vrier', en: 'february' },\r\n  { fr: 'mars', en: 'march' },\r\n  { fr: 'avril', en: 'april' },\r\n  { fr: 'mai', en: 'may' },\r\n  { fr: 'juin', en: 'june' },\r\n  { fr: 'juillet', en: 'july' },\r\n  { fr: 'aoÃ»t', en: 'august' },\r\n  { fr: 'septembre', en: 'september' },\r\n  { fr: 'octobre', en: 'october' },\r\n  { fr: 'novembre', en: 'november' },\r\n  { fr: 'dÃ©cembre', en: 'december' }\r\n];\n\nfunction toTimeSpan(str: String) {\n  if (!str) return null;\n\n  for (let m of months) {\n    str = str.replace(m.fr, m.en);\n  }\n\n  let [start, end] = str.split('/');\n  return {\n    start: moment(start),\n    end: moment(end)\n  }\n}\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './timeline.template.html',\n  selector: 'timeline'\n})\nexport class TimelineComponent {\n  @Input() dates: [any];\n\n  ngOnChanges() {\n    if (!this.dates) return;\n\n    this.dates.forEach((d) => {\n      d.time = new Date(d.date);\n      if (!d.agent) d.agent = [];\n    });\n\n    this.dates.sort((a, b) => {\n      if (!a.time) return 1;\n      if (!b.time) return -1;\n      return a.time - b.time;\n    });\n  }\n}\n","<div class=\"bearing\"></div>\n<div id=\"evaluation\">\n  <h1>Recommendation Evaluation</h1>\n\n  <progress [max]=\"statesMax\" [value]=\"this.state\">{{state}}/{{statesMax}}</progress>\n  <div style=\"display:flex; justify-content:space-between\">\n    <button mat-mini-fab [ngClass]=\"{'hidden':state<2}\">\n      <mat-icon aria-label=\"back\" (click)=\"previousState()\">arrow_back_ios</mat-icon>\n    </button>\n\n    <h2>Step {{state}}/{{statesMax}}</h2>\n\n    <button mat-mini-fab [ngClass]=\"{'hidden':state>=statesMax}\">\n      <mat-icon aria-label=\"next\" (click)=\"nextState()\">arrow_forward_ios</mat-icon>\n    </button>\n\n  </div>\n\n  <div *ngIf=\"state<statesMax\">\n\n    <div style=\"display:flex\">\n      <p class=\"lefted\">SEED</p>\n      <artist class=\"seed\" [ext]=true *ngIf=\"expression && type == 'artist'\" [artist]=\"expression\"></artist>\n      <summary class=\"seed\" [ext]=true *ngIf=\"expression && type == 'expression'\" [entity]=\"expression | summary: 'expression'\" [eclass]=\"'expression'\"></summary>\n    </div>\n\n    <p>\n      Given the seed work/artist, please order the following recommended works/artists:\n    </p>\n\n    <loading *ngIf=\"loading\">{{'rec.loading'|translate}}</loading>\n    <error-msg class=\"small\" *ngIf=\"error\"></error-msg>\n\n    <div class=\"board\" *ngIf=\"!loading && !error\">\n      <div cdkDropList #goodList=\"cdkDropList\" class=\"eval-list\" (cdkDropListDropped)=\"drop($event)\" [cdkDropListData]=\"recommendation\" [cdkDropListConnectedTo]=\"[trashList]\">\n        <artist [ext]=true cdkDrag [explain]=\"explain ? expr.explain : null\"\n         *ngFor=\"let expr of (type == 'artist' ? recommendation : []); let i = index\" [artist]=\"expr\"></artist>\n\n        <summary [ext]=true cdkDrag class=\"eval-box\" [explain]=\"explain ? expr.explain : null\"\n         *ngFor=\"let expr of (type == 'expression' ? recommendation : []); let i = index\" [entity]=\"expr | summary: 'MusicComposition'\"></summary>\n        <p class=\"empty-msg\" *ngIf=\"recommendation.length < 1\">nothing to show</p>\n      </div>\n\n      <div cdkDropList id=\"trashList\" #trashList=\"cdkDropList\" class=\"eval-list mdi mdi-trash-can-outline mdi-36px\" (cdkDropListDropped)=\"drop($event)\" [cdkDropListData]=\"trash\" [cdkDropListConnectedTo]=\"[goodList]\">\n        <artist [ext]=true cdkDrag [explain]=\"explain ? expr.explain : null\"\n         *ngFor=\"let expr of (type == 'artist' ? trash : []); let i = index\" [artist]=\"expr\"></artist>\n        <summary [ext]=true cdkDrag class=\"eval-box\" [explain]=\"explain ? expr.explain : null\"\n        *ngFor=\"let expr of (type == 'expression' ? trash: []); let i = index\" [entity]=\"expr | summary: 'MusicComposition'\"></summary>\n        <p class=\"empty-msg mdi mdi-gesture-tap mdi-rotate-315\" *ngIf=\"trash.length < 1\">Drag&Drop here what is not appropriate</p>\n      </div>\n\n    </div>\n\n  </div>\n\n  <div *ngIf=\"state==statesMax\" class=\"lastState\">\n    <textarea [(ngModel)]=\"comment\" name=\"comment\" rows=\"8\" cols=\"80\" placeholder=\"Insert here any eventual comment\"></textarea>\n    <button mat-raised-button color=\"primary\" id=\"confirm\" [disabled]=\"shouldBeDisabled()? true : null\" (click)=\"sendData()\">SEND EVALUATION</button>\n    <p *ngIf=\"!sentState && shouldBeDisabled()\">Looks like you did not edit step {{shouldBeDisabled()}}</p>\n\n    <mat-spinner *ngIf=\"sentState=='pending'\"></mat-spinner>\n    <mat-icon *ngIf=\"sentState=='success'\">thumb_up</mat-icon>\n    <mat-icon *ngIf=\"sentState=='error'\">thumb_down</mat-icon>\n  </div>\n\n\n  <div style=\"display:flex; justify-content:space-between\">\n    <button mat-mini-fab [ngClass]=\"{hidden:state<2}\">\n      <mat-icon aria-label=\"back\" (click)=\"previousState()\">arrow_back_ios</mat-icon>\n    </button>\n\n    <h2>Step {{state}}/{{statesMax}}</h2>\n\n    <button mat-mini-fab [ngClass]=\"{hidden:state>=statesMax}\">\n      <mat-icon aria-label=\"next\" (click)=\"nextState()\">arrow_forward_ios</mat-icon>\n    </button>\n  </div>\n  <progress [max]=\"statesMax\" [value]=\"this.state\">{{state}}/{{statesMax}}</progress>\n\n\n</div>\n","import { Component, Inject, PLATFORM_ID } from '@angular/core';\nimport { ExpressionService } from '../expression/expression.service';\nimport { ArtistService } from '../artist/artist.service';\nimport { isPlatformBrowser } from '@angular/common';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { State } from './state';\nimport states from './statesList';\n\nconst httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type': 'application/json'\n  })\n};\n\n\nvar timer;\n\n@Component({\n  moduleId: module.id,\n  selector: 'eval',\n  templateUrl: './eval.template.html',\n  styleUrls: ['./eval.styl'],\n  providers: [ExpressionService, ArtistService]\n})\nexport class EvaluationComponent {\n  expression: any;\n  recommendation: Array<any>;\n  trash: Array<any> = [];\n  explain: boolean;\n  loading: boolean = true;\n  error: boolean = false;\n\n  state: number;\n  statesMax = states.length + 1;\n  sentState = '';\n  comment: String;\n  type: string;\n\n  constructor(private http: HttpClient,\n    private expressionService: ExpressionService,\n    private artistService: ArtistService,\n    @Inject(PLATFORM_ID) private platformId: string) {\n\n    let hash = window.location.hash;\n    this.state = (hash && parseInt(hash.substr(1))) || 1;\n\n    if (isPlatformBrowser(this.platformId)) this.changeSeed();\n\n    timer = setInterval(() => this.saveState(), 5000);\n  }\n\n  ngOnDestroy() {\n    clearInterval(timer);\n  }\n\n  nextState() {\n    this.sentState = '';\n    this.saveState();\n    if (this.state >= this.statesMax)\n      return;\n\n    this.state++;\n    this.changeSeed();\n  }\n\n  previousState() {\n    this.saveState();\n\n    if (this.state <= 1)\n      return;\n\n    this.state--;\n    this.changeSeed();\n  }\n\n  saveState() {\n    if (this.state == this.statesMax) return;\n    let curstate = states[this.state - 1];\n\n    curstate.trash = this.trash;\n    curstate.rec = this.recommendation;\n    curstate.loaded = true;\n    localStorage.setItem(this.state.toString(), JSON.stringify(curstate));\n  }\n\n  changeSeed() {\n    window.location.hash = '#' + this.state;\n\n    this.error = false;\n    this.loading = false;\n\n    if (this.state == this.statesMax) return;\n\n    this.loading = true;\n    this.recommendation = null;\n    this.trash = [];\n\n    let curstate = states[this.state - 1];\n    let seed = curstate.seed;\n    this.explain = curstate.explain;\n\n    let [, , , type, id] = seed.split('/');\n\n    let service = (type == 'artist') ? this.artistService : this.expressionService;\n    this.type = type;\n    service.get(id, true).subscribe(exp => {\n      this.expression = type == 'artist' ? exp['@graph'][0] : exp;\n      this.expression.id = id;\n      this.expression.composer = this.getProp('composer', true)[0];\n    });\n\n    if (curstate.loaded) {\n      this.loading = false;\n      this.recommendation = curstate.rec;\n      this.trash = curstate.trash;\n\n      return;\n    }\n\n    let x = localStorage.getItem(this.state.toString());\n    if (x) {\n      curstate = State.from(JSON.parse(x));\n\n      states[this.state - 1] = curstate;\n      this.recommendation = curstate.rec || [];\n      this.trash = curstate.trash || [];\n      this.loading = false;\n      return;\n    }\n\n    // retrieve recommendations\n    service.recommend(id, 10, curstate.flat ? [1] : null, curstate.explain)\n      .then(res => {\n        this.loading = false;\n        this.recommendation = res;\n      }).catch(err => {\n        this.loading = false;\n        this.error = true;\n        console.error(err);\n      });\n\n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    let curstate = states[this.state - 1];\n    curstate.modified = true;\n\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data,\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex);\n    }\n  }\n\n  getProp(prop, asArray: boolean = false) {\n    let v = this.expression[prop];\n    if (!v) return asArray ? [] : null;\n    if (asArray && !Array.isArray(v)) return [v];\n    return v;\n  }\n\n  shouldBeDisabled() {\n    if (this.sentState) return true;\n\n    let a = states.findIndex(function isInvalid(state, i) {\n      if (!state.loaded) {\n        let x = localStorage.getItem((i + 1).toString());\n        if (!x) return true;\n        state = State.from(JSON.parse(x));\n        states[i] = state;\n      }\n      return !state.modified;\n    });\n\n    return a > -1 ? a + 1 : false;\n  }\n\n  sendData() {\n    if (this.shouldBeDisabled()) {\n      this.sentState = 'error';\n      return console.warn('submit even if disabled!');\n    }\n\n    this.sentState = 'pending';\n    let obj = {\n      states,\n      comment: this.comment\n    }\n\n    this.http.post('/api/eval/', obj, httpOptions)\n      .subscribe(\n        () => { this.sentState = 'success'; },\n        error => {\n          this.sentState = 'error';\n          console.error(error);\n        }\n      );\n  }\n}\n","export class State {\n  modified: boolean = false;\n  loaded: boolean = false;\n  explain: boolean;\n  flat: boolean;\n\n  seed: string;\n  trash: string[] = [];\n  rec: string[] = [];\n\n  constructor(seed: string, explain = false, flat = false) {\n    this.seed = seed;\n    this.explain = explain;\n    this.flat = flat;\n  }\n\n  static from(obj: any): State {\n    let s = new State(obj.seed, obj.explain, obj.flat)\n    s.trash = obj.trash;\n    s.rec = obj.rec;\n    s.modified = obj.modified;\n\n    s.loaded = true;\n    return s;\n  }\n\n}\n","import { State } from './state'\n\n\nvar states = [\n  new State('http://data.doremus.org/artist/b34f92ab-ad86-361b-a8b8-5c3a4db784d0'), // Vivaldi\n  new State('http://data.doremus.org/artist/b34f92ab-ad86-361b-a8b8-5c3a4db784d0', false, true), // Vivaldi flat\n  new State('http://data.doremus.org/artist/03954109-0253-35d6-a70e-89ab27dea09c', true), // Schubert\n  new State('http://data.doremus.org/artist/1f1c9292-087a-3ac7-b854-84e213e69dc6', true), // Stravinsky\n  new State('http://data.doremus.org/expression/d72301f0-0aba-3ba6-93e5-c4efbee9c6ea'), // Moonlight\n  new State('http://data.doremus.org/expression/d72301f0-0aba-3ba6-93e5-c4efbee9c6ea', false, true), // Moonlight flat\n  new State('http://data.doremus.org/expression/498ba265-1de0-30da-b9d1-07dbc2ec834c', true), //Ring des Nibelungende\n  new State('http://data.doremus.org/expression/cded83a6-f8a5-3ea6-a3f5-2e7ff3547df9', true), // Spainish Keys\n  new State('http://data.doremus.org/expression/bf596e5a-81f7-38de-a842-dff7d2339868', true), // Concert for clarinet\n  new State('http://data.doremus.org/expression/c7889893-f8ca-3de5-9dc1-510531ba47a8', true, true) // Sonata for hapsicord\n];\n\n\nexport default states;\n","<router-outlet></router-outlet>","import {Component} from '@angular/core';\n\n@Component({\r\n  moduleId: module.id,\n  template: '<router-outlet></router-outlet>'\n})\nexport class ExpressionComponent { }\n","<div class=\"bearing\" *ngIf=\"!expression\"></div>\n<error-msg *ngIf=\"error\"></error-msg>\n\n<loading *ngIf=\"querying\"></loading>\n\n<article *ngIf=\"expression\" class=\"expression-detail\">\n  <section class=\"overview\">\n    <div [style.background-image]=\"safePic(overviewPic)\" class=\"bg\"></div>\n    <div class=\"overview-cont\">\n      <div class=\"title-cont\">\n        <p class=\"composer\" *ngIf=\"expression.composer\">\n          <a [routerLink]=\"['/artist/', getId(composer.uri)]\" *ngFor=\"let composer of getProp('composer', true)\">{{composer.label}}</a>\n        </p>\n        <h1 class=\"title\" *ngIf=\"expression.name\">\n          {{expression.name}}\n          <small *ngIf=\"expression.order\">\n            <span *ngIf=\"startsWithNum(expression.order)\">n. </span>\n            {{expression.order}}\n          </small>\n        </h1>\n        <p class=\"other-title\" [innerHTML]=\"expression.alternateName | jsonLDval: ['lang','array']\"></p>\n\n        <div class=\"note\">\n          <p [innerHTML]=\"expression.description | jsonLDval: ['lang','array']\"></p>\n        </div>\n\n        <div class=\"derivation-cont\" *ngIf=\"expression.derivativeOf\">\n          <span>{{'Derivative of'|translate}}</span>\n          <div class=\"card-list\">\n            <summary [entity]=\"expression.derivativeOf | summary: 'expression'\" [eclass]=\"'expression'\"></summary>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"info-cont\">\n        <div class=\"sources\" *ngIf=\"expression.source\">\n          <a href='{{ expression.sameAs || getSource(expression.source).uri }}' rel=\"external\" target=\"blank\" class=\"source\">\n            <img src='{{getSource(expression.source).img}}' alt='{{getSource(expression.source).label}}' title=\"data from {{getSource(expression.source).label}}\" />\n          </a>\n        </div>\n        <div class=\"info-card\">\n          <div *ngIf=\"expression.derivation\">\n            <label>{{'Derivation'|translate}}</label>\n            <span>{{expression.derivation}}</span>\n          </div>\n          <div *ngIf=\"expression.key\">\n            <label>{{'Musical key'|translate}}</label>\n\n            <span *ngFor=\"let key of getProp('key', true)\">\n              <a [routerLink]=\"['/expression']\" [queryParams]=\"{ key: key.uri }\">{{key.label}}</a>\n            </span>\n          </div>\n          <div *ngIf=\"expression.genre\">\n            <label>{{'Genre'|translate}}</label>\n            <span *ngFor=\"let genre of getProp('genre', true)\">\n              <a [routerLink]=\"['/expression']\" [queryParams]=\"{ genre: genre.uri}\">{{genre.label}}</a>\n            </span>\n          </div>\n          <div *ngIf=\"expression.opus\">\n            <label>{{'Opus'|translate}}</label>\n            <span>{{expression.opus}}</span>\n          </div>\n          <div *ngIf=\"expression.catalogue\">\n            <label>{{'Catalogue'|translate}}</label>\n            <span>{{expression.catalogue}}</span>\n          </div>\n\n          <div *ngIf=\"expression.mop\">\n            <label>{{'Casting'|translate}}</label>\n            <ul style=\"list-style-type: none; margin: 0; padding: 0\">\n              <li *ngFor=\"let mop of getProp('mop', true)\" class=\"instr icon-right-dir\">\n                <a [routerLink]=\"['/expression']\" [queryParams]=\"{ mop: mop.uri}\">{{mop.label}}</a>&nbsp;\n                <span *ngIf=\"mop.quantity\">({{mop.quantity}})</span>\n                <strong *ngIf=\"mop.responsibility\">{{mop.responsibility}}</strong>\n              </li>\n            </ul>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class=\"main info flexy\">\n    <section>\n      <timeline *ngIf=\"dates && dates.length > 0\" [dates]=\"this.dates\"></timeline>\n\n      <section class=\"realisations\" *ngFor=\"let evtGroup of expression.events | keys\">\n        <h2><strong>{{evtGroup.value.length}}</strong>{{evtGroup.key|translate}}</h2>\n        <div class=\"card-list\">\n          <summary *ngFor=\"let evt of evtGroup.value\" [entity]=\"evt | summary: evt['@type']\" [eclass]=\"evt['@type']\"></summary>\n        </div>\n      </section>\n    </section>\n\n    <section class=\"recommendation-cont\">\n      <recommendation [seed]=\"expression.uri\"></recommendation>\n    </section>\n  </div>\n</article>\n","import { Component } from '@angular/core';\nimport { ExpressionService } from './expression.service';\nimport { SharedService } from '../../services/sharedService.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { DomSanitizer, Title } from '@angular/platform-browser';\n\nconst PERFORMANCE = 'MusicEvent';\nconst PUBLICATION = 'PublicationEvent';\n\nconst defaultOverviewPic = '/static/img/bg/generic-score.jpg';\nconst organizBase = 'http://data.doremus.org/organization/';\nconst institutions = {\n  Philharmonie_de_Paris: {\n    label: 'Philharmonie de Paris',\n    img: '/static/img/logos/philharmonie.png',\n    uri: 'https://philharmoniedeparis.fr'\n  },\n  BnF: {\n    label: 'BnF',\n    img: '/static/img/logos/bnf.png',\n    uri: 'http://catalogue.bnf.fr/'\n  },\n  Radio_France: {\n    label: 'Radio France',\n    img: '/static/img/logos/radiofrance.flat.png',\n    uri: 'http://www.radiofrance.fr/'\n  }\n}\n@Component({\n  moduleId: module.id,\n  templateUrl: './expression.detail.template.html',\n  styleUrls: ['./expression.styl'],\n  providers: [ExpressionService]\n})\nexport class ExpressionDetailComponent {\n  sharedService: SharedService;\n  expression: any;\n  recommendation: [any];\n  querying: boolean;\n  dates: any[];\n  error: boolean = false;\n  overviewPic: string = defaultOverviewPic;\n\n  constructor(private titleService: Title,\n    sharedService: SharedService,\n    private expressionService: ExpressionService,\n    private route: ActivatedRoute, private _sanitizer: DomSanitizer) {\n\n    this.sharedService = sharedService;\n\n    this.route.params.forEach((params: Params) => {\n      let id = params['id'];\n\n      if (id) {\n        this.querying = true;\n\n        this.expressionService.get(id).subscribe(exp => {\n          this.expression = exp;\n          this.expression.id = id;\n          this.expression.uri = 'http://data.doremus.org/expression/' + id;\n\n          this.titleService.setTitle(exp.name);\n\n          console.log(this.expression);\n          this.querying = false;\n          this.error = false;\n\n          // prepare dates for timeline\n          this.dates = [];\n          if (this.expression.dateCreated)\n            this.dates.push({\n              type: 'creation',\n              agent: this.getProp('composer', true).map(c => c.label),\n              date: this.expression.dateCreated\n            });\n\n          let perfs = this.expression.events[PERFORMANCE];\n          let premiere = perfs && perfs.find(ev => ev.firstPerformance);\n          if (premiere)\n            this.dates.push({\n              type: 'premiere',\n              description: premiere.note,\n              date: premiere.startDate\n            });\r\n\n          let pubs = this.expression.events[PUBLICATION];\n          let princepsPub = pubs && pubs.find(ev => ev.firstPublication);\n          if (princepsPub)\n            this.dates.push({\n              type: 'publication',\n              description: princepsPub.note,\n              date: princepsPub.startDate\n            });\n          let firstComposer = this.getProp('composer', true)[0];\n          this.overviewPic = (firstComposer && firstComposer.pic) || defaultOverviewPic;\n        }, (err) => {\n          this.querying = false;\n          this.error = true;\n          console.error(err);\n        });\n\n      }\n    });\n  }\n\n  ngOnInit() {\n    // FIXME discover why this is not propagated to sharedService\n    this.sharedService.sharchBarVisible = false;\n  }\n\n  isNode(a) {\n    return a.startsWith('node');\n  }\n\n  getSource(source) {\n    let s = source\n      .replace('http://data.doremus.org/', '')\n      .replace('organization/', '');\n    // console.log(s)\n    let org = null;\n    switch (s) {\n      case 'bnf':\n      case 'BnF':\n        org = `BnF`; break;\n      case 'philharmonie':\n      case 'Philharmonie_de_Paris':\n      case 'euterpe':\n        org = `Philharmonie_de_Paris`; break;\n      case 'redomi':\n      case 'itema3':\n        org = `Radio_France`; break;\n    }\n    return institutions[org];\n  }\n\n  getProp(prop, asArray: boolean = false) {\n    let v = this.expression[prop];\n    if (!v) return asArray ? [] : null;\n    if (asArray && !Array.isArray(v)) return [v];\n    return v;\n  }\n\n  getId(uri) {\n    return uri.split('/').slice(-1)[0];\n  }\n\n  startsWithNum(what) {\n    return parseInt(what[0]) != NaN;\n  }\n\n  safePic(input) {\n    let uri = encodeURI(input);\n    return this._sanitizer.bypassSecurityTrustStyle(`url('${uri}')`);\n  }\n}\n","<div class=\"bearing\"></div>\n\n<div class=\"main\">\n  <h1>{{'nav.expression'|translate}}</h1>\n\n  <search-comp (onFilterChanged)=\"onFilterChanged($event)\"></search-comp>\n\n  <error-msg *ngIf=\"error\"></error-msg>\n\n  <div class=\"forever-scroll card-list\" infinite-scroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"100\" (scrolled)=\"onScroll();\">\n    <summary *ngFor=\"let expression of items\" [entity]=\"expression | summary: 'expression'\" [eclass]=\"'expression'\"></summary>\n\n    <loading *ngIf=\"querying || scrollInProgress\"></loading>\n\n  </div>\n\n</div>\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationStart } from '@angular/router';\nimport { ExpressionService } from './expression.service';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './expression.list.template.html',\n  styleUrls: ['./expression.styl'],\n  providers: [ExpressionService]\n})\nexport class ExpressionListComponent {\n  @Input() expressionURI: string;\n\n  items: any[];\n  filter = {};\n  querying: boolean = false;\n  error: boolean = false;\n\n  scrollInProgress = false;\n  freezeScroll = true;\n\n  constructor(\n    private _expressionService: ExpressionService,\n    private router: Router, private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    this.filter = this.route.queryParams['value'];\n    this.getList();\n\n    this.router.events\n      .map(event => event instanceof NavigationStart)\n      .subscribe(() => {\n        let newFilter = this.route.queryParams['value'];\n        if (JSON.stringify(newFilter) != JSON.stringify(this.filter)) {\n          this.filter = newFilter;\n          this.getList();\n        }\n      }, (err) => {\r\n        this.error = true;\n        console.error(err);\n      });\n  }\n\n  getList() {\n    // if (this.querying) return false;\n    this.querying = true;\n    this.error = false;\n    this.freezeScroll = false;\n\n    this._expressionService.query(this.filter).subscribe(\n      res => {\n        this.items = res['@graph'];\n        this.querying = false;\n      },\n      error => {\n        console.error('Error: ' + error);\n        this.querying = false;\n        this.error = true;\n      }\n    );\n  }\n\n  onFilterChanged(filter = {}) {\n    this.router.navigate(['/expression'], {\n      queryParams: filter\n    });\n  }\n\n  onScroll() {\n    if (this.freezeScroll || this.scrollInProgress || !this.items) return;\n    this.scrollInProgress = true;\n\n    this._expressionService.query(this.filter, this.items.length)\n      .subscribe(res => {\n        this.scrollInProgress = false;\n        let list = res['@graph'];\n        if(list.length)\n          this.items.push(...list);\n        else this.freezeScroll = true;\n      }, error => console.error('Error: ' + error));\n  }\n\n  myIdChange(event) {\n    this.expressionURI = '<' + event.value + '>';\n    this.ngOnInit();\n    window.scrollTo(0, 0);\n  }\n\n  wip() {\n    this.router.navigate(['/wip']);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { forkJoin } from 'rxjs/observable/forkJoin'\n\nimport { Globals } from '../../app.globals';\n\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ExpressionService {\n  expressions: any[];\n\n  private limit = 12;\n\n  constructor(private http: HttpClient) { }\n\n  query(filter = {}, offset?: number): Observable<Object> {\n    let filterOptions = \"\";\n\n    Object.keys(filter).forEach(k => {\n      let value = filter[k];\n      if (!value) return;\n      if (!Array.isArray(value)) value = [value]\n      for (let v of value)\n        filterOptions += `&${k}=${v}`\n    });\n\n    let search = `lim=${this.limit}&lang=${Globals.lang}` + filterOptions;\n    if (offset) search += '&offset=' + offset;\n    else this.expressions = [];\n\n    return this.http.get(\"/api/expression\", {\n      params: new HttpParams({ fromString: search })\n    });\n  }\n\n  get(id, light = false): Observable<any> {\n    if (!id) return null;\n\n    let params = new HttpParams().set('lang', Globals.lang);\n    return forkJoin(\n      this.http.get(`/api/expression/${id}`, { params }),\n      this.http.get(`/api/expression/${id}/realisations`, { params }))\n      .map(res => {\n        let expression = res[0];\n        if (Array.isArray(expression['name']))\n          expression['name'] = expression['name'][0];\n\n        let eventsData = res[1]['@graph'];\r\n        let events = {};\r\n        eventsData.forEach(e => {\r\n          let cls = e['@type'];\r\n          // init array for the current category if it does not exist\r\n          if (!events[cls]) events[cls] = [];\r\n          events[cls].push(e);\r\n        });\r\n\r\n        expression = Object.assign(expression, { events });\r\n        return expression;\r\n      });\n  }\n\n  recommend(id, n = 3, weights: number[] = null, explain = false) {\n    if (!id) return Promise.resolve(null);\n\n    let params = new HttpParams().set('lang', Globals.lang)\n      .set('explain', explain.toString())\n      .set('n', n.toString());\n\n    if (weights) params = params.set('w', weights.join(','));\n\n    return this.http.get(`/api/recommendation/${id}`, { params })\n      .toPromise();\n  }\n}\n","<h2>{{'rec.works.heading'|translate}}</h2>\n<loading *ngIf=\"loading\">{{'rec.loading'|translate}}</loading>\n<!-- <error-msg class=\"small\" *ngIf=\"error\"></error-msg> -->\n<div *ngIf=\"error\">Nothing to show</div>\n\n<div *ngIf=\"!loading && !error\">\n  <summary *ngFor=\"let expr of recommendation\" [entity]=\"expr | summary: 'MusicComposition'\"></summary>\n  <p class=\"empty-msg\" *ngIf=\"recommendation.length < 1\">nothing to show</p>\n</div>\n","import { Component, Input, SimpleChanges, Inject, PLATFORM_ID } from '@angular/core';\nimport { ExpressionService } from './expression.service';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  moduleId: module.id,\n  selector: 'recommendation',\n  templateUrl: './recommendation.template.html'\n})\nexport class RecommendationComponent {\n  @Input() seed: string;\n  recommendation: [any];\n  loading: boolean = true;\n  error: boolean = false;\n\n  constructor(private expressionService: ExpressionService, @Inject(PLATFORM_ID) private platformId: string) { };\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!changes.seed) return;\n\n    this.loading = true;\n    this.error = false;\n    this.recommendation = null;\n\n    let id = this.seed.replace('http://data.doremus.org/expression/', '');\n\n    if (!isPlatformBrowser(this.platformId)) return;\n\n    // retrieve recommendations\n    this.expressionService.recommend(id)\n      .then(res => {\n        this.loading = false;\n        this.recommendation = res;\n      }).catch(err => {\n        this.loading = false;\n        this.error = true;\n        console.error(err);\n      });\n  }\n}\n","<div class=\"home\">\n  <div class=\"cover\">\n    <div>\n      <h1>{{'home.heading' | translate}}</h1>\n      <a mat-raised-button [routerLink]=\"['expression']\">{{'home.big-button' | translate}}</a>\n    </div>\n  </div>\n  <div class=\"brand-new\"><mark>{{'whatsnew' | translate}}</mark>\n    {{'home.whatsnew' | translate}}\n  </div>\n  <div class=\"descriptive main\">\n    <div class=\"img-cont\">\n      <img src=\"static/img/polaroids.png\" />\n    </div>\n    <p>\n      {{'home.app_descr'|translate}}\n      <a href=\"http://data.doremus.org/sparql\">data.doremus.org/sparql</a></p>\n  </div>\n  <div class=\"divider\" style=\"background-image:url('static/img/classical_music_composers_montage.jpg')\"></div>\n  <div class=\"descriptive main\">\n    <p>\n      {{'home.doremus_descr'|translate}}\n      <a href=\"http://www.doremus.org\">{{'learn_more' | translate}}</a>\n    </p>\n    <div class=\"img-cont\">\n      <img src=\"/static/img/logos/doremus.logo.png\" />\n    </div>\n  </div>\n</div>\n","import {Component} from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './home.template.html',\n  styleUrls: ['./home.styl']\n})\nexport class HomeComponent { }\n","<router-outlet></router-outlet>","import {Component} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\r\n  moduleId: module.id,\n  template: '<router-outlet></router-outlet>'\n})\nexport class PerformanceComponent { }\n","<div class=\"bearing\" *ngIf=\"!performance\"></div>\n<error-msg *ngIf=\"error\"></error-msg>\n\n<loading *ngIf=\"querying\"></loading>\n\n<article *ngIf=\"performance\" class=\"expression-detail\">\n  <section class=\"overview\">\n    <div [style.background-image]=\"safePic(overviewPic)\" class=\"bg\"></div>\n    <div class=\"overview-cont\">\n      <div class=\"title-cont\">\n        <h1 class=\"title\" *ngIf=\"performance.name\">{{performance.name | jsonLDval}}</h1>\n        <h1 class=\"title\" *ngIf=\"!performance.name\">{{'Performance' | translate}}</h1>\n        <p class=\"other-title\" [innerHTML]=\"performance.additionalType\"></p>\n        <p class=\"other-title\" [innerHTML]=\"performance.alternateName| jsonLDval: ['lang','array']\"></p>\n\n        <div class=\"note\">\n          <p [innerHTML]=\"performance.description | jsonLDval: ['lang','array']\"></p>\n        </div>\n\n      </div>\n      <div class=\"info-cont\">\n        <div class=\"sources\" *ngIf=\"performance.sourceOrganization\">\n          <span class=\"source\">\n            <img src='{{getSource(performance.sourceOrganization).img}}' alt='{{getSource(performance.sourceOrganization).label}}' title=\"data from {{getSource(performance.sourceOrganization).label}}\" />\n          </span>\n        </div>\n        <div class=\"info-card\">\n          <div *ngIf=\"performance.startDate\">\n            <label>{{'Date'|translate}}</label>\n            <span>{{performance.startDate}}</span>\n          </div>\n          <div *ngIf=\"performance.audience\">\n            <label>{{'Performance condition'|translate}}</label>\n            <span>{{performance.audience | jsonLDval:array}}</span>\n          </div>\n          <div *ngIf=\"performance.location\">\n            <label>{{'Place'|translate}}</label>\n            <a [routerLink]=\"['/performance']\" [queryParams]=\"{ place: performance.location.name['@value'] || performance.location.name }\">{{performance.location.name | jsonLDval}}</a>\n            <span *ngIf=\"performance.location.containedInPlace\">, {{performance.location.containedInPlace}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class=\"main info flexy\">\n    <section id=\"works\" *ngIf=\"performance.workPerformed\">\n      <h2>{{'Performed works'|translate}}</h2>\n\n      <div class=\"card-list\">\n        <div *ngFor=\"let a of performance.workPerformed\">\n          <summary [entity]=\"a | summary: a['@type']\" [eclass]=\"a['@type']\"></summary>\n        </div>\n      </div>\n      <div *ngIf=\"performance.workPerformed.length<1\">Information not available</div>\n    </section>\n\n    <section>\n      <h2>{{'Cast'|translate}}</h2>\n      <artist *ngFor=\"let artist of performers\" [artist]=\"artist\"></artist>\n    </section>\n  </div>\n</article>\n","import { Component } from '@angular/core';\nimport { PerformanceService } from './performance.service';\nimport { SharedService } from '../../services/sharedService.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { DomSanitizer, Title } from '@angular/platform-browser';\n\n\nconst defaultOverviewPic = '/static/img/bg/violin_string.jpg';\nconst organizBase = 'http://data.doremus.org/organization/';\nconst institutions = {\n  Philharmonie_de_Paris: {\n    label: 'Philharmonie de Paris',\n    img: '/static/img/logos/philharmonie.png',\n    uri: 'https://philharmoniedeparis.fr'\n  },\n  BnF: {\n    label: 'BnF',\n    img: '/static/img/logos/bnf.png',\n    uri: 'http://catalogue.bnf.fr/'\n  },\n  Radio_France: {\n    label: 'Radio France',\n    img: '/static/img/logos/radiofrance.flat.png',\n    uri: 'http://www.radiofrance.fr/'\n  }\n}\n@Component({\n  moduleId: module.id,\n  templateUrl: './performance.detail.template.html',\n  styleUrls: ['./performance.styl'],\n  providers: [PerformanceService]\n})\nexport class PerformanceDetailComponent {\n  performers: any[];\n  sharedService: SharedService;\n  performance: any;\n  recommendation: [any];\n  querying: boolean;\n  error: boolean = false;\n  overviewPic: string = defaultOverviewPic;\n\n  constructor(private titleService: Title,\n    sharedService: SharedService,\n    private performanceService: PerformanceService,\n    private route: ActivatedRoute, private _sanitizer: DomSanitizer) {\n\n    this.sharedService = sharedService;\n\n    this.route.params.forEach((params: Params) => {\n      let id = params['id'];\n\n      if (id) {\n        this.querying = true;\n\n        this.performanceService.get(id).subscribe(exp => {\n          this.performance = exp['@graph'][0];\n          this.performance.uri = 'http://data.doremus.org/performance/' + id;\n\n          let name = this.performance.name || this.performance.alternateName;\n          name == name['@value'] || name;\n          this.performance.name = name;\n          this.titleService.setTitle(name);\n\n          console.log(this.performance);\n          this.querying = false;\n          this.error = false;\n\n          this.overviewPic = defaultOverviewPic;\n\n          this.performers = this.performance.performer;\n          if (!Array.isArray(this.performers)) this.performers = [this.performers];\n          this.performers = this.performers.map(p => {\n            p.performer.description = p.description;\n            return p.performer;\n          });\n          this.performers = removeDuplicates(this.performers, '@id');\n          console.log(this.performers)\n        }, (err) => {\n          this.querying = false;\n          this.error = true;\n          console.error(err);\n        });\n      }\n    });\n  }\n\n  ngOnInit() {\n    // FIXME discover why this is not propagated to sharedService\n    this.sharedService.sharchBarVisible = false;\n  }\n\n  isNode(a) {\n    return a.startsWith('node');\n  }\n\n  getSource(source) {\n    let s = source\n      .replace('http://data.doremus.org/', '')\n      .replace('organization/', '');\n\n    let org = null;\n    switch (s) {\n      case 'bnf':\n      case 'BnF':\n        org = `BnF`; break;\n      case 'philharmonie':\n      case 'Philharmonie_de_Paris':\n      case 'euterpe':\n        org = `Philharmonie_de_Paris`; break;\n      case 'redomi':\n      case 'itema3':\n      case 'Radio_France':\n        org = `Radio_France`; break;\n    }\n    return institutions[org];\n  }\n\n  getProp(prop, asArray: boolean = false) {\n    let v = this.performance[prop];\n    if (!v) return asArray ? [] : null;\n    if (asArray && !Array.isArray(v)) return [v];\n    return v;\n  }\n\n  getId(uri) {\n    return uri.split('/').slice(-1)[0];\n  }\n\n  startsWithNum(what) {\n    return parseInt(what[0]) != NaN;\n  }\n\n  safePic(input) {\n    let uri = encodeURI(input);\n    return this._sanitizer.bypassSecurityTrustStyle(`url('${uri}')`);\n  }\n}\n\nfunction removeDuplicates(myArr: any[], prop: string) {\n  return myArr.filter((obj, pos, arr) => {\n    return arr.map(mapObj => mapObj[prop]).indexOf(obj[prop]) === pos;\n  });\n}\n","<div class=\"bearing\"></div>\n\n<div class=\"main\">\n  <h1>{{'nav.performance'|translate}}</h1>\n\n  <search-comp (onFilterChanged)=\"onFilterChanged($event)\" [context]=\"'performance'\"></search-comp>\n\n  <error-msg *ngIf=\"error\"></error-msg>\n\n  <div class=\"forever-scroll card-list\" infinite-scroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"100\" (scrolled)=\"onScroll();\">\n    <summary *ngFor=\"let performance of items\" [entity]=\"performance | summary: 'event'\" [eclass]=\"'expression'\"></summary>\n\n    <loading *ngIf=\"querying || scrollInProgress\"></loading>\n\n  </div>\n\n</div>\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationStart } from '@angular/router';\nimport { PerformanceService } from './performance.service';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './performance.list.template.html',\n  styleUrls: ['./performance.styl'],\n  providers: [PerformanceService]\n})\n\nexport class PerformanceListComponent {\n  @Input() expressionURI: string;\n\n  items: any[];\n  filter = {};\n  querying: boolean = false;\n  error: boolean = false;\n\n  scrollInProgress = false;\n  disableScroll: boolean = false;\n\n  constructor(\n    private _performanceService: PerformanceService,\n    private router: Router, private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    this.filter = this.route.queryParams['value'];\n    this.getList();\n\n    this.router.events\n      .map(event => event instanceof NavigationStart)\n      .subscribe(() => {\n        let newFilter = this.route.queryParams['value'];\n        if (JSON.stringify(newFilter) != JSON.stringify(this.filter)) {\n          this.filter = newFilter;\n          this.getList();\n        }\n      }, (err) => {\r\n        this.error = true;\n        console.error(err);\n      });\n  }\n\n  getList() {\n    // if (this.querying) return false;\n    this.querying = true;\n    this.error = false;\n\n    this._performanceService.query(this.filter).subscribe(\n      res => {\n        this.items = res['@graph'];\n        this.querying = false;\n      },\n      error => {\n        console.error('Error: ' + error);\n        this.querying = false;\n        this.error = true;\n      }\n    );\n  }\n\n  onFilterChanged(filter = {}) {\n    this.disableScroll = false;\n\n    this.router.navigate(['/performance'], {\n      queryParams: filter\n    });\n  }\n\n  onScroll() {\n    if (this.disableScroll || this.scrollInProgress || !this.items) return;\n    this.scrollInProgress = true;\n\n    this._performanceService.query(this.filter, this.items.length)\n      .subscribe(res => {\n        this.scrollInProgress = false;\n        let list = res['@graph'];\n        if (!list.length) this.disableScroll = true;\n        this.items.push(...list);\n      }, error => console.error('Error: ' + error));\n  }\n\n  myIdChange(event) {\n    this.expressionURI = '<' + event.value + '>';\n    this.ngOnInit();\n    window.scrollTo(0, 0);\n  }\n\n  wip() {\n    this.router.navigate(['/wip']);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from \"rxjs/Rx\";\nimport { Globals } from '../../app.globals';\n\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class PerformanceService {\n  private limit = 12;\n\n  constructor(private http: HttpClient) { }\n\n  query(filter = {}, offset?: number): Observable<Object> {\n    let filterOptions = \"\";\n\n    Object.keys(filter).forEach(k => {\n      let value = filter[k];\n      if (!value) return;\n      if (!Array.isArray(value)) value = [value]\n      for (let v of value)\n        filterOptions += `&${k}=${v}`\n    });\n\n    let search = 'lim=' + this.limit + filterOptions;\n    if (offset) search += '&offset=' + offset;\n\n    return this.http.get('/api/performance', {\n      params: new HttpParams({ fromString: search })\n    });\n  }\n\n  get(id): Observable<any> {\n    if (!id) return null;\n\n    let params = new HttpParams().set('lang', Globals.lang);\n    return this.http.get(`/api/performance/${id}`, {params});\n\n  }\n\n  // recommend(id) {\n  //   if (!id) return Promise.resolve(null);\n  //\n  //   let params = new HttpParams().set('lang', Globals.lang);\n  //   return this.http.get(`/api/recommendation/${id}`, { params })\n  //     .toPromise().then(res => {\n  //       let data = res;\n  //       console.log(data);\n  //       return data;\n  //     });\n  // }\n\n}\n","<div class=\"wip\">\n  <img src=\"static/img/logos/waves.red.png\" class=\"wip-img\">\n  <p class=\"wip-text\">WORK IN PROGRESS</p>\n</div>\n","import {Component} from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'score-tab',\n  templateUrl: '../wip/wip.template.html'\n})\n\nexport class ScoreTabComponent { }\n","<div class=\"bearing\"></div>\n\n<div class=\"main\">\n  <h1><small>Search results for </small>{{input}}</h1>\n\n  <error-msg *ngIf=\"error\"></error-msg>\n\n  <div class=\"forever-scroll card-list\">\n    <loading *ngIf=\"querying\"></loading>\n\n    <summary *ngFor=\"let expression of items\" [entity]=\"expression | summary: 'expression'\" [eclass]=\"'expression'\"></summary>\n\n  </div>\n\n</div>\n","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport { SearchService } from './search.service';\n\n@Component({\n  moduleId: module.id,\n  templateUrl: './search-results.template.html',\n  // styleUrls: ['./expression.css'],\n  providers: [SearchService]\n})\nexport class SearchResultsComponent {\n  input: string;\n  items: any[];\n  querying: boolean = true;\n  error: boolean = false;\n\n  constructor(\n    private _searchService: SearchService,\n    private router: Router, private route: ActivatedRoute) {\n\n    router.events.subscribe((val) => {\n      if (val instanceof NavigationEnd && val.url.startsWith('/search')) {\n        this.querying = true;\n        this.error = false;\n      }\n\n      if (val instanceof NavigationEnd && val.url.startsWith('/search'))\n        this.search();\n    });\n  }\n\n  search() {\n    this.input = this.route.snapshot.params['input'];\n\n    this.querying = true;\n    this.error = false;\n\n    this._searchService.query(this.input)\n      .then(res => {\n        this.items = res;\n        console.log(res)\n        this.querying = false;\n      }).catch(error => {\n        console.error('Error: ' + error);\n        this.querying = false;\n        this.error = true;\n      });\n\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Globals } from '../../app.globals';\n\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class SearchService {\n\n  constructor(private http: HttpClient) { }\n\n  query(input = {}, offset?: number) {\n    let params = new HttpParams().set('lang', Globals.lang);\n    if (offset) params = params.set('offset', offset + '');\n\n    return this.http.get<any>(`/api/search/${input}`, {params})\n      .toPromise().then(res => {\n        let data = res;\n\n        for (let d of data) {\n          d.id = /[^/]*$/.exec(d.expression)[0];\n          d.title = Array.isArray(d.title) ? d.title[0] : d.title;\n        }\n\n        return data;\n      });\n  }\n\n}\n","<div class=\"searchbox\">\n  <form class=\"main\">\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('year')\">\n      <input matInput pattern=\"\\d{4}\" placeholder=\"{{'Year'|translate}}\" [(ngModel)]=\"filter.year\" name=\"year\" (ngModelChange)=\"changeFilter($event)\" />\n    </mat-form-field>\n\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('place')\">\n      <input matInput placeholder=\"{{'Place'|translate}}\" [(ngModel)]=\"filter.place\" name=\"place\" (ngModelChange)=\"changeFilter($event)\" />\n    </mat-form-field>\n\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('title')\">\n      <input matInput placeholder=\"{{'Title'|translate}}\" [(ngModel)]=\"filter.title\" name=\"title\" (ngModelChange)=\"changeFilter($event)\" />\n    </mat-form-field>\n\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('composer')\">\n      <input matInput placeholder=\"{{'Composer'|translate}}\" [(ngModel)]=\"filter.composer\" name=\"composer\" (ngModelChange)=\"changeFilter($event)\" />\n    </mat-form-field>\n\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('key')\">\n      <input type=\"text\" placeholder=\"{{'Musical key'|translate}}\" aria-label=\"Number\" matInput [formControl]=\"search.key\" [matAutocomplete]=\"auto\" name=\"filter.key\" (ngModelChange)=\"emptyFilter($event, 'key')\">\n      <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" [displayWith]=\"displayFn\" (optionSelected)=\"changeFilter($event, 'key')\">\n        <mat-option *ngFor=\"let item of result.key\" [value]=\"item\">\n          {{item.label}}\n        </mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('genre')\">\n      <input type=\"text\" placeholder=\"{{'Genre'|translate}}\" aria-label=\"Number\" matInput [formControl]=\"search.genre\" [matAutocomplete]=\"auto\" name=\"filter.genre\" (ngModelChange)=\"emptyFilter($event, 'genre')\">\n      <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" [displayWith]=\"displayFn\" (optionSelected)=\"changeFilter($event, 'genre')\">\n        <mat-option *ngFor=\"let item of result.genre\" [value]=\"item\">\n          {{item.label}}\n        </mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n\n\n    <mat-form-field class=\"field\" *ngIf=\"toBeShown('mop')\">\n      <input type=\"text\" placeholder=\"{{'Instruments'|translate}}\" aria-label=\"Number\" matInput [formControl]=\"search.mop\" [matAutocomplete]=\"auto\" name=\"filter.mop\" (ngModelChange)=\"emptyFilter($event, 'mop')\">\n      <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" [displayWith]=\"displayFn\" (optionSelected)=\"changeFilter($event, 'mop')\">\n        <mat-option *ngFor=\"let item of result.mop\" [value]=\"item\">\n          {{item.label}}\n        </mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n\n  </form>\n</div>\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { VocabularyService } from './vocabulary.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  moduleId: module.id,\n  selector: 'search-comp',\n  templateUrl: './search.template.html',\n  styleUrls: ['./search.styl'],\n  providers: [VocabularyService]\n})\nexport class SearchComponent {\n  @Input() context: string = 'expression';\n  @Output() onFilterChanged = new EventEmitter();\n  filter = {\n    mop: null,\n    genre: null,\n    key: null,\n    title: null,\n    composer: null,\n    year: null\n  };\n\n  search = {\n    key: new FormControl(),\n    genre: new FormControl(),\n    mop: new FormControl()\n  }\n\n  result = {\n    key: [],\n    genre: [],\n    mop: []\n  };\n\n  constructor(private _vocabularyService: VocabularyService, private route: ActivatedRoute) {\n    console.log(this)\n    console.log(this.result)\n    for (let x of ['key', 'genre', 'mop'])\n      this.search[x].valueChanges.subscribe(data => {\n        this._vocabularyService.search(x, data).subscribe(response => {\n          this.result[x] = response\n        });\n      })\n  }\n\n  ngOnInit() {\n    this._loadFilter();\n  }\n\n  private _loadFilter() {\n    let params = this.route.queryParams['value'];\n    Object.keys(params).forEach(p => {\n      let v = params[p];\n      console.log(p, v);\n\n      if (Array.isArray(this.filter[p])) {\n        if (Array.isArray(v))\n          this.filter[p].push(...v)\n        else this.filter[p].push(v)\n      }\n      else this.filter[p] = v\n    });\n\n    for (let x of ['key', 'genre', 'mop'])\n      if (this.filter[x])\n        this._vocabularyService.lemma(x, this.filter[x]).subscribe(response => {\n          this.search[x].setValue(response);\n        });\n  }\n\n  emptyFilter(value: any, name: string) {\n    if (value) return\n    this.filter[name] = Array.isArray(this.filter[name]) ? [] : null;\n    this.changeFilter('', '');\n  }\n\n  changeFilter(_event: any, name: string) {\n    if (_event === null) return;\n    if (this.filter.year && !this.filter.year.match(/\\d{4}/)) return;\n\n    if (_event.option) {\n      this.filter[name] = _event.option.value.id;\n    }\n    debounce(() => {\n      this.onFilterChanged.emit(this.filter);\n    }, 500)();\n  }\n\n  toBeShown(x: string) {\n    switch (x) {\n      case 'title':\n      case 'composer':\n      case 'key':\n      case 'mop':\n      case 'genre':\n        return this.context == 'expression';\n      case 'year':\n      case 'place':\n        return this.context == 'performance';\n      default: return false;\n    }\n  }\n\n  displayFn(x: any) {\n    return x ? x.label : null;\n  }\n}\n\n// https://davidwalsh.name/javascript-debounce-function\nfunction debounce(func, wait = 0, immediate = false) {\n  var timeout;\n  return function() {\n    let context = this, args = arguments;\n    let later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    let callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from \"rxjs/Rx\";\nimport { Globals } from '../../app.globals';\n\nlet vocabularies = {};\n\n@Injectable()\nexport class VocabularyService {\n  constructor(private http: HttpClient) { }\n\n  get(id): Observable<any> {\n    if (!id) return Observable.of(null);\n\n    let cache = vocabularies[id];\n    if (cache) return Observable.of(cache);\n\n    let params = new HttpParams().set('lang', Globals.lang);\n    return this.http.get<any>(`/api/vocabulary/${id.replace(/\\//g, '-')}`, { params })\n      .map(res => {\n        vocabularies[id] = res;\n        return res\n      });\n  }\n\n  lemma(vocabulary: string, id: string): any {\n    let params = new HttpParams()\n      .set('lang', Globals.lang)\n      .set('lemma', id);\n    return this.http.get<any>(`/api/vocabulary/${vocabulary}`, { params })\n      .map(res => res && res[0]);\n  }\n\n  search(vocabulary: string, q: string): any {\n    let params = new HttpParams()\n      .set('lang', Globals.lang)\n      .set('autocomplete', 'true')\n      .set('q', q);\n\n    return this.http.get<any>(`/api/vocabulary/${vocabulary}`, { params });\n  }\n}\n","<div class=\"entity-summary\" [ngClass]=\"{'ext':ext}\" [routerLink]=\"ext? null : entity.link\" *ngIf=\"entity\">\n  <img mat-card-avatar [src]=\"entity.image || 'static/img/work.png'\">\n  <div class=\"entity-summary-main\">\n    <p class=\"composer\"><span *ngIf=\"entity.super != 0\">{{entity.super}}</span></p>\n    <h3>\n      {{entity.title | jsonLDval}}\n      <small class=\"catalogue\">{{entity.small}}</small>\n      <span class=\"tag\" *ngIf=\"entity.tag\">{{entity.tag|translate}}</span>\n    </h3>\n  </div>\n  <p *ngIf=\"explain\">{{writeExplain(explain)}}</p>\n  <a  target=\"_blank\" [routerLink]=\"entity.link\" *ngIf=\"ext\" class=\"mdi mdi-page-next-outline show-details\" title=\"show details\"></a>\n  <img class=\"source\" *ngIf=\"!ext && entity.source\" [src]=\"getSourceImage(entity.source)\" alt=\"{{entity.source}}\">\n</div>\n","import { Component, Input } from '@angular/core';\n\nconst LOGOS_FOLDER = \"/static/img/logos\";\n\n@Component({\n  moduleId: module.id,\n  selector: 'summary',\n  templateUrl: './summary.template.html'\n})\nexport class SummaryComponent {\n  @Input() entity: Entity;\n  @Input() eclass: string = 'expression'; //entity class, i.e. expression\n  @Input() ext: boolean;\n  @Input() explain: any;\n\n  getSourceImage(source: String) {\n    if (!source) return null;\n    let s = source.toLowerCase()\n      .replace(/http:\\/\\/data\\.doremus\\.org\\/(organization\\/)?/, '');\n\n    switch (s) {\n      case 'bnf':\n      case 'bnf':\n        return `${LOGOS_FOLDER}/bnf.png`;\n      case 'philharmonie':\n      case 'philharmonie_de_paris':\n      case 'euterpe':\n        return `${LOGOS_FOLDER}/philharmonie.png`;\n      case 'redomi':\n      case 'itema3':\n      case 'radio_france':\n        return `${LOGOS_FOLDER}/radiofrance.png`;\n      default:\n        if (source.startsWith('http://catalogue.bnf.fr/'))\n          return `${LOGOS_FOLDER}/bnf.png`;\n        return null;\n    }\n  }\n  writeExplain(explain) {\n    let x = explain.map(y => y[0]).filter(y => y != 'period_old').join(', ')\n    return 'similar ' + x;\n  }\n\n}\n\nclass Entity {\n  title: string\n  small: string\n  image: string\n  link: string\n  super: number\n  source: string\n  tag: string\n}\n","<div class=\"top-nav\">\n  <button mat-icon-button id=\"openNav\" (click)=\"openNav()\">\n    <mat-icon class=\"mdi mdi-dots-vertical\"></mat-icon>\n  </button>\n\n  <span class=\"flex-span\"></span>\n\n  <a [routerLink]=\"['']\" title=\"Overture Home\" class=\"fullLogo\">Overture</a>\n\n  <span class=\"flex-span\"></span>\n\n  <nav class=\"navigation\" [ngClass]=\"{'open': showNav}\">\n    <div class=\"close-nav\">\n      <button mat-icon-button disableRipple id=\"closeNav\" (click)=\"closeNav()\">\n        <mat-icon class=\"mdi mdi-close\"></mat-icon>\n      </button>\n    </div>\n\n    <a *ngFor=\"let r of routes\" [routerLink]=\"r\" [routerLinkActive]=\"'active'\" (click)=\"closeNav()\">{{'nav.'+ r | translate}}</a>\n  </nav>\n\n  <span class=\"flex-span\"></span>\n\n  <button mat-icon-button disableRipple id=\"openSearch\" class=\"light\" (click)=\"openSearch()\">\n    <mat-icon class=\"mdi mdi-magnify\"></mat-icon>\n  </button>\n\n  <div class=\"search-bar\" [ngClass]=\"{'open': showSearch}\">\n    <form (ngSubmit)=\"onSearchSubmit($event)\" #fullSearchForm=\"ngForm\">\n      <input #fullSearchInput type=\"search\" class=\"fullSearch\" placeholder=\"Search for something (i.e. Sonata, Mozart, ...)\" [(ngModel)]=\"searchInput\" name=\"search\" on-focusout=\"closeSearch()\" required />\n    </form>\n\n    <button mat-icon-button disableRipple id=\"openSearch\" (click)=\"closeSearch()\">\n      <mat-icon class=\"mdi mdi-close\"></mat-icon>\n    </button>\n\n  </div>\n</div>\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  moduleId: module.id,\n  selector: 'top-nav',\n  templateUrl: './top-nav.template.html'\n})\nexport class TopNavComponent {\n  @ViewChild('fullSearchInput') fullSearchInput: ElementRef;\n\n  showSearch: boolean = false;\n  showNav: boolean = false;\n  searchInput: string;\n\n  routes = ['expression', 'performance', 'recording', 'score', 'artist'];\n\n  constructor(private router: Router) { }\n\n  openSearch() {\n    this.showSearch = true;\n    this.fullSearchInput.nativeElement.focus();\n  }\n\n  closeSearch() { this.showSearch = false; }\n\n  openNav() { this.showNav = true; }\n  closeNav() { this.showNav = false; }\n\n  onSearchSubmit(e) {\r\n    e.preventDefault();\r\n    // this.closeSearch();\r\n    if (this.searchInput.split(' ').some(word => word.length > 3))\n      this.router.navigate(['search', this.searchInput]);\n    // else alert('At least one word should be longer then 3 character');\n    // FIXME put a popup\n    // this.searchInput = null;\n  }\n}\n","import {Component} from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'wip',\n  templateUrl: './wip.template.html',\n})\n\nexport class WipComponent { }\n","<div [innerHtml]=\"'<script type=\\'application/ld+json\\'>' + jsonLdObj + '</script>' | safeHtml\" style=\"display:none\"></div>","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'jsonld',\n  template: `<div [innerHtml]=\"'<script type=\\\\'application/ld+json\\\\'>' + jsonLdObj + '</script>' | safeHtml\" style=\"display:none\"></div>`\n})\nexport class JsonLdComponent {\n  @Input()\n  object: {};\n\n  jsonLdObj: string;\n\n  ngOnInit() {\n    this.jsonLdObj = JSON.stringify(this.object)\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { JsonLdComponent } from './jsonld.component';\nimport { SafeHtmlPipe } from './safehtml.pipe';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [JsonLdComponent, SafeHtmlPipe],\n  exports: [JsonLdComponent]\n})\nexport class JsonLdModule { }\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\n\n@Pipe({name: 'safeHtml'})\nexport class SafeHtmlPipe implements PipeTransform {\n    constructor(protected sanitized:DomSanitizer) {\n    }\n\n    transform(value:any):SafeHtml {\n        return this.sanitized.bypassSecurityTrustHtml(value);\n    }\n}\n","import { enableProdMode } from '@angular/core';\nexport { AppServerModule } from './app-server.module';\n\nenableProdMode();\n","import { PipeTransform, Pipe } from '@angular/core';\nimport * as bestLang from 'bestlang';\nimport { Globals } from '../app.globals';\n\nvar supportedLanguages = [Globals.lang, 'en', 'ru-Latn', 'el-Latn'];\n\n@Pipe({ name: 'jsonLDval' })\nexport class JsonLDvalPipe implements PipeTransform {\n  transform(value, args: string[] = []): any {\n    if (!value) return '';\n    let opt = {\n      lang: false,\n      array: false\n    };\n\n    if (!Array.isArray(args)) args = [args];\n    for (let arg of args) opt[arg] = true;\n\n    let a = clone(value);\n    if (!Array.isArray(a)) a = [a];\n\n    let bl = bestLang(a.map(v => v['@language'] || ''), supportedLanguages, 'en');\n    let best;\n    if (bl) best = a.find(v => v['@language'] == bl);\n    if (!best) best = a.find(v => !v['@language']);\n\n    a = a.map(v => flatObj(v, opt));\n\n    if (opt.array) return a.join(' | ')\n    return flatObj(best, opt) || a[0];\n  }\n}\n\nfunction flatObj(v, opt) {\n  if (!v) return null;\n  if (opt.lang && v['@language'])\n    return v['@value'] + `<small class='lang'>${v['@language']}</small>`\n  return v['@value'] || v;\n}\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n","import { PipeTransform, Pipe } from '@angular/core';\n\n// Object to Array for ngFor on properties\n// from http://stackoverflow.com/questions/35534959/access-key-and-value-of-object-using-ngfor#answer-35536052\n\n@Pipe({name: 'keys'})\nexport class KeysPipe implements PipeTransform {\n  transform(value, args:string[]) : any {\n    let keys = [];\n    for (let key in value) {\n      keys.push({key: key, value: value[key]});\n    }\n    return keys;\n  }\n}\n","import { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({ name: 'stripDbpedia' })\nexport class StripDbpediaPipe implements PipeTransform {\n  transform(value: string): any {\n    if (!value) return value;\n    return value.replace('http://dbpedia.org/resource/', '');\n  }\n}\n","import { PipeTransform, Pipe } from '@angular/core';\nimport * as moment from 'moment';\n\n// Entity to summary for visualisation\n\n@Pipe({ name: 'summary' })\nexport class SummaryPipe implements PipeTransform {\n  transform(value, eclass: string): any {\n    if (!value) return null;\n    var date, id;\n    var source = value.sourceOrganization || value.source;\n    switch (eclass) {\n      case 'expression':\n      case 'MusicComposition':\n        id = value.id || value['@id'].replace('http://data.doremus.org/expression/', '')\n\n        let author = value.composer || value.author;\n        let image = value.image;\n        if (author) {\n          if (!image) image = author.image || author.pic;\n          if (author['@type'] == 'Role') author = author.composer || author.author;\n          if (author.name) author = author.name;\n          if (author.label) author = author.label;\n        }\n        date = value.dateCreated ? value.dateCreated + ', ' : '';\n\n        return {\n          id,\n          link: ['/expression', id],\n          title: extractValue(value.title || value.name),\n          super: date + extractValue(author),\n          small: value.alternativeHeadline,\n          image,\n          source,\n          tag: value.derivation || ''\n        }\n      case 'event':\n      case 'MusicEvent':\n        id = value['@id'].replace('http://data.doremus.org/performance/', '')\n\n        let perf = value.performer;\n        if (perf && !Array.isArray(perf)) perf = [perf];\n\n        if (value.startDate) date = value.startDate;\n\n        let _super = [];\n        if (date) _super.push(date)\n        let _loc = value.location && value.location.name;\n        if (_loc) _super.push(_loc['@value'] || _loc)\n\n        let title = value.name || value.alternateName;\n        if (!title) {\n          title = 'Performance'\n          if (value.activities) title += ' by ' + toActorList(value.activities)\n          else if (value.actorName) title += ' by ' + value.actorName\n        }\n\n        return {\n          super: _super.join(', '),\n          title,\n          source,\n          link: ['/performance', id],\n          image: 'static/img/performance_placeholder.png',\n          tag: value.firstPerformance ? 'premiere' : null\n        }\n      case 'PublicationEvent':\n        id = value['@id'].replace('http://data.doremus.org/publication/', '')\n\n        return {\n          // link: ['/publication', id],\n          source,\n          super: `${value.date ? moment(value.date).year() : ''}${separator(value)}${(value.location && value.location.name) || ''}`,\n          title: value.name || value.description || 'Publication',\n          tag: value.firstPublication ? 'princeps publication' : null\n        }\n      default:\n        console.log(\"I should not arrive here.\", eclass, value)\n    }\n  }\n}\n\nfunction separator(value) {\n  return value.time && value.placeURI ? ', ' : '';\n}\n\nfunction extractValue(input) {\n  if (!input || !input['@value']) return input;\n  return input['@value'];\n}\n\nfunction toActorList(activities = []) {\n  return activities.map(a => {\n    let p = a && a.actor;\n    if (a['@type'] == 'Role') {\n      p = a.performer.name;\n      if (a.roleName) p += ` (${a.roleName})`\r\n    }\n    return p;\n  }).join(', ');\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class SharedService {\n  public sharchBarVisible: boolean = false;\n\n  public show() {\n    this.sharchBarVisible = !this.sharchBarVisible;\n  }\n}\n","module.exports = require(\"@angular/animations\");","module.exports = require(\"@angular/animations/browser\");","module.exports = require(\"@angular/cdk/a11y\");","module.exports = require(\"@angular/cdk/bidi\");","module.exports = require(\"@angular/cdk/drag-drop\");","module.exports = require(\"@angular/cdk/observers\");","module.exports = require(\"@angular/cdk/overlay\");","module.exports = require(\"@angular/cdk/platform\");","module.exports = require(\"@angular/cdk/portal\");","module.exports = require(\"@angular/cdk/scrolling\");","module.exports = require(\"@angular/cdk/text-field\");","module.exports = require(\"@angular/common\");","module.exports = require(\"@angular/common/http\");","module.exports = require(\"@angular/core\");","module.exports = require(\"@angular/forms\");","module.exports = require(\"@angular/http\");","module.exports = require(\"@angular/material/autocomplete\");","module.exports = require(\"@angular/material/button\");","module.exports = require(\"@angular/material/core\");","module.exports = require(\"@angular/material/form-field\");","module.exports = require(\"@angular/material/icon\");","module.exports = require(\"@angular/material/input\");","module.exports = require(\"@angular/material/progress-spinner\");","module.exports = require(\"@angular/material/select\");","module.exports = require(\"@angular/material/slider\");","module.exports = require(\"@angular/platform-browser\");","module.exports = require(\"@angular/platform-browser/animations\");","module.exports = require(\"@angular/platform-server\");","module.exports = require(\"@angular/router\");","module.exports = require(\"@nguniversal/module-map-ngfactory-loader\");","module.exports = require(\"@ngx-translate/core\");","module.exports = require(\"@ngx-translate/http-loader\");","module.exports = require(\"bestlang\");","module.exports = require(\"moment\");","module.exports = require(\"ngx-infinite-scroll\");","module.exports = require(\"rxjs/Rx\");","module.exports = require(\"rxjs/add/operator/map\");","module.exports = require(\"rxjs/add/operator/toPromise\");","module.exports = require(\"rxjs/observable/forkJoin\");"],"sourceRoot":""}